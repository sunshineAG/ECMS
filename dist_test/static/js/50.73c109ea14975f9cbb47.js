webpackJsonp([50],{1245:function(e,t,n){n(2234);var a=n(20)(n(1652),n(2135),"data-v-7ef25646",null);a.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\view\\systemManage\\monitorManage.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] monitorManage.vue: functional components are not supported with templates, they should use render functions."),e.exports=a.exports},1652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(4),o=n.n(r),i=n(137),s=n.n(i),c=[{title:"编号",dataIndex:"mobile_serial",align:"center",scopedSlots:{customRender:"mobile_serial"}},{title:"昵称",dataIndex:"nickname",align:"center",scopedSlots:{customRender:"nickname"}},{title:"级别",dataIndex:"level",align:"center",scopedSlots:{customRender:"level"}},{title:"信息",dataIndex:"desc",align:"center",scopedSlots:{customRender:"desc"}},{title:"时间",dataIndex:"created",align:"center",scopedSlots:{customRender:"created"}}];t.default=(a={name:"monitorManage",data:function(){return{columns:c,dataList:[],queryForm:{searchKey:"",startTime:"",endTime:""},is_warning:!0,is_error:!0,form:this.$form.createForm(this),pagination:{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,total:0,showTotal:function(e,t){return"共 "+e+" 项"}}}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},computed:{departmentID:function(){return this.$store.state.user.user.department.id}},methods:{optionChange:function(e,t){this.pagination.pageSize=t,this.refreshGroup()},onShowSizeChange:function(e,t){console.log(e,t),this.pagination.current=e,this.refreshGroup()},handleSubmit:function(e){this.refreshGroup(),console.log(this.queryForm)},refresh:function(){this.refreshGroup()},onChangeStart:function(e,t){this.queryForm.startTime=t},onChangeEnd:function(e,t){this.queryForm.endTime=t},refreshGroup:function(){var e=this;this.$axios({method:"POST",url:"/index.php?r=uc/system/monitor-alarm",data:s()(e.queryForm,{alarm:e.is_warning?1:0,fault:e.is_error?1:0,department_id:e.departmentID,p:e.pagination.current,n:e.pagination.pageSize})}).then(function(t){var n=t.data;1==n.status?(e.pagination.total=parseInt(n.data.robotAlarm.count),e.dataList=n.data.robotAlarm.list):e.$message.warn(n.msg)})}},created:function(){this.refreshGroup()}},o()(a,"mounted",function(){}),o()(a,"beforeUpdate",function(){}),a)},1753:function(e,t,n){t=e.exports=n(15)(!1),t.push([e.i,"\n.tab[data-v-7ef25646] {\n  margin: 20px 20px 50px 20px;\n}\n.monitorManage .col-margin[data-v-7ef25646] {\n  padding: 20px 20px 0px;\n}\n.background-color[data-v-7ef25646] {\n  height: calc(100vh - 90px);\n  overflow-y: auto;\n  background: #fff;\n}\n",""])},2135:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background-color monitorManage"},[n("div",{staticClass:"col-margin"},[n("a-form",{attrs:{layout:"inline"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[n("a-form-item",{attrs:{label:"告警级别"}},[n("a-checkbox",{model:{value:e.is_warning,callback:function(t){e.is_warning=t},expression:"is_warning"}},[e._v("告警")]),e._v(" "),n("a-checkbox",{model:{value:e.is_error,callback:function(t){e.is_error=t},expression:"is_error"}},[e._v("故障")])],1),e._v(" "),n("a-form-item",[n("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入编号、昵称"},model:{value:e.queryForm.searchKey,callback:function(t){e.$set(e.queryForm,"searchKey",t)},expression:"queryForm.searchKey"}})],1),e._v(" "),n("a-form-item",[n("a-date-picker",{attrs:{placeholder:"开始日期"},on:{change:e.onChangeStart}})],1),e._v(" "),n("a-form-item",[n("a-date-picker",{attrs:{placeholder:"结束日期"},on:{change:e.onChangeEnd}})],1),e._v(" "),n("a-form-item",{staticStyle:{float:"right"}},[n("a-button",{on:{click:e.refresh}},[e._v("刷新")])],1),e._v(" "),n("a-form-item",{staticStyle:{float:"right"}},[n("a-button",{attrs:{type:"primary",htmlType:"submit"}},[e._v("搜索")])],1)],1)],1),e._v(" "),n("div",{staticClass:"tab"},[n("a-table",{attrs:{columns:e.columns,dataSource:e.dataList,pagination:e.pagination},on:{change:e.onShowSizeChange},scopedSlots:e._u([{key:"level",fn:function(t,a,r){return[n("div",{staticClass:"editable-row-operations"},[n("a-badge",{attrs:{status:0==a.level?"success":1==a.level?"warning":"error"}}),e._v(" "),n("span",{style:{color:0==a.level?"#52c41a":1==a.level?"#faad14":"#f5222d",verticalAlign:"middle"}},[e._v(e._s(0==a.level?"正常":1==a.level?"告警":"故障"))])],1)]}}])})],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0},2234:function(e,t,n){var a=n(1753);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(16)("40998435",a,!1)}});