webpackJsonp([25],{1228:function(t,e,a){a(2239),a(2238);var s=a(20)(a(1635),a(2138),"data-v-94bf88e0",null);s.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\view\\productManage\\productInfo.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] productInfo.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1252:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"},1253:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"dataStatus",props:["width","height","material"],components:{},data:function(){return{}}}},1254:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.imgBg[data-v-6c09838e]{\n    opacity:1;\n    text-align:center;\n    position:relative;\n}\n.text[data-v-6c09838e]{\n    position:absolute;\n    left:50%;\n    bottom:44px;\n    color:#ccc;\n    transform: translateX(-50%);\n}\n.matText[data-v-6c09838e]{\n    position:absolute;\n    left:50%;\n    bottom:86px;\n    color:#00000073;\n    transform: translateX(-50%);\n}\n",""])},1255:function(t,e,a){a(1257);var s=a(20)(a(1253),a(1256),"data-v-6c09838e",null);s.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\components\\pageConfig\\dataStatus.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] dataStatus.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1256:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"imgBg"},[s("svg",{staticStyle:{"text-align":"center"},attrs:{width:t.width,height:t.height}},[s("image",{attrs:{"xlink:href":a(1252),width:"100%"}})]),t._v(" "),t.material?t._e():s("span",{staticClass:"text"},[t._v("暂无数据")]),t._v(" "),t.material?s("span",{staticClass:"matText"},[t._v("暂不支持")]):t._e()])},staticRenderFns:[]},t.exports.render._withStripped=!0},1257:function(t,e,a){var s=a(1254);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(16)("4232382d",s,!1)},1635:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(137),i=a.n(s),n=a(54),o=a.n(n),r=a(1255),l=a.n(r),c=a(32),p=[{title:"名称",dataIndex:"title",align:"center",scopedSlots:{customRender:"title"}},{title:"图片",dataIndex:"src",align:"center",scopedSlots:{customRender:"src"}},{title:"类别",dataIndex:"class_name",align:"center",scopedSlots:{customRender:"class_name"}},{title:"单价（元）",dataIndex:"price",align:"center",scopedSlots:{customRender:"price"}},{title:"操作",dataIndex:"operation",align:"center",scopedSlots:{customRender:"operation"}}];e.default={name:"productInfo",components:{dataStatus:l.a},data:function(){return{columns:p,searchKey:"",select_id:"",dataList:[],selectList:[],locale:{filterConfirm:"",filterReset:"",emptyText:""},pagination:{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40","50"],current:1,pageSize:10,total:0,showTotal:function(t,e){return"共 "+t+" 项"}},visible:!1,form:this.$form.createForm(this),paramsObj:{id:"",title:"",src:"",class_id:"",price:""},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:19}},saveFlag:!0,headers:{Authorization:c.store.get("token")},editSelectList:[]}},methods:{onShowSizeChange:function(t){this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.refreshGroup()},onSearch:function(t){this.searchKey=t,this.refreshGroup()},selChange:function(t){this.select_id=t,this.refreshGroup()},deleteFn:function(t){var e=this;this.$axios({method:"POST",url:"/index.php?r=uc/product/goods-del",data:{id:t,status:"10"}}).then(function(t){1==t.data.status&&(e.$message.success("删除成功",2),e.refreshGroup())})},batch_create:function(){this.$router.push({path:"/productManage/batch_add"})},new_create:function(){this.getEditSelect(),this.paramsObj={id:"",title:"",src:"",class_id:"",price:""},this.visible=!0},editFn:function(t){this.getEditSelect(),this.paramsObj={id:t.id,title:t.title,src:t.src[0].src,class_id:t.class_id,price:t.price},this.visible=!0},getSelect:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/product/get-class",params:{}}).then(function(e){var a=e.data;1==a.status&&(t.selectList=a.data,t.selectList.unshift({id:0,title:"全部"}),t.select_id=t.selectList[0].id,t.refreshGroup())})},refreshGroup:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/product/goods-list",params:{p:t.pagination.current,n:t.pagination.pageSize,key:t.searchKey,class_id:t.select_id}}).then(function(e){var a=e.data;1==a.status&&(t.pagination.total=parseInt(a.data.count),t.dataList=a.data.list,0==a.data.list.length&&t.pagination.current>1&&(t.pagination.current-=1,t.refreshGroup()))})},com_handleCancel:function(){this.paramsObj={id:"",title:"",src:"",class_id:"",price:""},this.visible=!1},com_handleOk:function(t){var e=this;if(t.preventDefault(),!this.paramsObj.price||!this.paramsObj.class_id||!this.paramsObj.title)return this.saveFlag=!1,!1;var a=JSON.parse(o()(this.paramsObj));a.src=[this.paramsObj.src],this.$axios({method:"POST",url:"/index.php?r=uc/product/goods-add",data:i()({data:[a]})}).then(function(t){1==t.data.status&&(e.$message.success("保存成功"),e.saveFlag=!0,e.visible=!1,e.refreshGroup(),e.paramsObj={id:"",title:"",src:"",class_id:"",price:""})})},handleChange:function(t){var e=this;"uploading"!==t.file.status&&("done"===t.file.status?1==t.file.response.status?this.paramsObj.src=t.file.response.data.path:e.$notification.warning({message:"上传错误",description:t.file.response.msg}):"error"===t.file.status&&e.$notification.warning({message:"上传失败",description:"文件"+t.file.name+"上传失败"}))},beforeUpload:function(t){console.log("image/jpeg"===t.type);var e="image/jpeg"===t.type||("image/png"===t.type||"image/jpg"===t.type);e||this.$notification.warning({message:"文件格式不正确",description:"文件格式不正确，请选择JPG或PNG。"});var a=t.size/1024/1024<1;return a||(this.$notification.warning({message:"超出文件大小限制",description:"图像不能大于1MB！"}),this.$message.error("图像不能大于1MB！")),e&&a},getEditSelect:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/product/get-class",params:{}}).then(function(e){var a=e.data;1==a.status&&(t.editSelectList=a.data)})},selEditChange:function(t){this.paramsObj.class_id=t},deleteImg:function(t){t.stopPropagation(),this.paramsObj.src=""}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},computed:{},created:function(){this.getSelect()}}},1757:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.up-content2 .ant-upload.ant-upload-select-picture-card {\n\twidth: 70px;\n\theight: 70px;\n}\n",""])},1758:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.tab[data-v-94bf88e0] {\n  margin: 0px 20px 50px 20px;\n  position: relative;\n}\n.background-color[data-v-94bf88e0] {\n  height: calc(100vh - 90px);\n  overflow-y: auto;\n  background: #fff;\n}\n.stausPage[data-v-94bf88e0] {\n  position: absolute;\n  left: 50%;\n  top: 200px;\n  z-index: 999;\n  transform: translate(-50%, 0);\n}\n.up-content2[data-v-94bf88e0] {\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n}\n.up-content2 .up-img-content[data-v-94bf88e0] {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  right: 9px;\n  bottom: 9px;\n  background: #ffffff;\n}\n.up-content2 .up-img-content img[data-v-94bf88e0] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  vertical-align: top;\n  position: relative;\n}\n.up-content2 .up-img-modal[data-v-94bf88e0] {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  right: 9px;\n  bottom: 9px;\n  z-index: 10;\n  visibility: hidden;\n}\n.up-content2 .up-img-modal .img-btn1[data-v-94bf88e0] {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 10;\n  left: 20%;\n  font-size: 20px;\n}\n.up-content2 .up-img-modal .img-btn2[data-v-94bf88e0] {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 10;\n  left: 65%;\n  font-size: 20px;\n}\n.up-content2:hover .up-img-modal[data-v-94bf88e0] {\n  background: rgba(250, 250, 250, 0.51);\n  visibility: visible;\n}\n",""])},2138:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-color"},[a("a-row",{staticStyle:{padding:"20px 20px 0 20px"}},[a("a-col",{staticStyle:{"text-align":"left"},attrs:{span:"12"}},[a("a-select",{staticStyle:{width:"150px","margin-right":"20px"},attrs:{placeholder:"请选择类别"},on:{change:t.selChange},model:{value:t.select_id,callback:function(e){t.select_id=e},expression:"select_id"}},t._l(t.selectList,function(e,s){return a("a-select-option",{key:e.id},[t._v(t._s(e.title))])}),1),t._v(" "),a("a-input-search",{staticStyle:{width:"220px","margin-bottom":"20px"},attrs:{placeholder:"请输入货号、名称搜索",enterButton:""},on:{search:t.onSearch}})],1),t._v(" "),a("a-col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.new_create}},[t._v("新建")])],1)],1),t._v(" "),a("div",{staticClass:"tab"},[a("a-table",{attrs:{columns:t.columns,dataSource:t.dataList,pagination:t.pagination,locale:t.locale},on:{change:t.onShowSizeChange},scopedSlots:t._u([{key:"src",fn:function(e,s,i){return[s.src.length>0?a("a-popover",{attrs:{trigger:"hover",placement:"right"}},[a("template",{slot:"content"},[a("img",{attrs:{src:s.src[0].src,alt:"",width:"200px"}})]),t._v(" "),s.src[0].src?a("img",{attrs:{src:s.src[0].src,alt:"",width:"60px",height:"60px"}}):t._e()],2):t._e()]}},{key:"operation",fn:function(e,s,i){return[a("div",{staticClass:"editable-row-operations"},[a("span",{staticStyle:{"margin-right":"10px"}},[a("a",{on:{click:function(){return t.editFn(s)}}},[t._v("编辑")])]),t._v(" "),a("span",[a("a-popconfirm",{attrs:{title:"你确定要删除吗？",placement:"top",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.deleteFn(s.id)}}},[a("a",{attrs:{href:"javascript:void(0);"}},[t._v("删除")])])],1)])]}}])})],1),t._v(" "),a("a-modal",{attrs:{title:"设置产品信息",footer:null,visible:t.visible},on:{cancel:t.com_handleCancel}},[a("a-form",{attrs:{form:t.form},on:{submit:t.com_handleOk}},[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"选择类别：",validateStatus:t.saveFlag?"success":t.paramsObj.class_id?"success":"error",help:t.saveFlag?"":t.paramsObj.class_id?"":"请选择产品类别"}},[a("a-select",{staticStyle:{width:"150px","margin-right":"20px"},attrs:{placeholder:"请选择类别"},on:{change:t.selEditChange},model:{value:t.paramsObj.class_id,callback:function(e){t.$set(t.paramsObj,"class_id",e)},expression:"paramsObj.class_id"}},t._l(t.editSelectList,function(e,s){return a("a-select-option",{key:e.id},[t._v(t._s(e.title))])}),1)],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"产品名称：",validateStatus:t.saveFlag?"success":t.paramsObj.title?"success":"error",help:t.saveFlag?"":t.paramsObj.title?"":"请输入产品名称"}},[a("a-input",{attrs:{placeholder:"请输入产品名称",maxlength:"15"},model:{value:t.paramsObj.title,callback:function(e){t.$set(t.paramsObj,"title",e)},expression:"paramsObj.title"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"产品价格：",validateStatus:t.saveFlag?"success":t.paramsObj.price?"success":"error",help:t.saveFlag?"":t.paramsObj.price?"":"请输入产品价格"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入产品价格（元）"},model:{value:t.paramsObj.price,callback:function(e){t.$set(t.paramsObj,"price",e)},expression:"paramsObj.price"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"产品图片："}},[a("a-upload",{staticClass:"up-content2",attrs:{name:"file",headers:t.headers,listType:"picture-card",showUploadList:!1,beforeUpload:t.beforeUpload,action:"/index.php?r=uc/user/upload"},on:{change:t.handleChange}},[a("div",[a("a-icon",{staticStyle:{fontSize:"20px"},attrs:{type:"plus"}}),t._v(" "),a("div",{staticClass:"ant-upload-text"},[t._v("上传图片")])],1),t._v(" "),""!=t.paramsObj.src?a("div",{staticClass:"up-img-content"},[a("img",{attrs:{src:t.paramsObj.src,alt:""}})]):t._e(),t._v(" "),""!=t.paramsObj.src?a("div",{staticClass:"up-img-modal"},[a("a-icon",{staticClass:"img-btn1",attrs:{type:"form"}}),t._v(" "),a("a-icon",{staticClass:"img-btn2",attrs:{type:"delete"},on:{click:function(e){return t.deleteImg(e)}}})],1):t._e()])],1),t._v(" "),a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{wrapperCol:{span:24,offset:17}}},[a("a-button",{on:{click:t.com_handleCancel}},[t._v("取消")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",htmlType:"submit"}},[t._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2238:function(t,e,a){var s=a(1757);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(16)("2491a976",s,!1)},2239:function(t,e,a){var s=a(1758);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(16)("6420d9e4",s,!1)}});