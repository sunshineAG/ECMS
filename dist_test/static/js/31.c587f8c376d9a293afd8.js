webpackJsonp([31],{1197:function(t,e,a){a(2218),a(2219);var i=a(20)(a(1599),a(2122),"data-v-611fa450",null);i.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\components\\dataManage\\editMaterial.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] editMaterial.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},1273:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(225);e.default={name:"divEdittArea",props:{formItem:{type:Object,default:{text:""}}},data:function(){return{innerText:"",lock:!1}},computed:{},watch:{formItem:{handler:function(t,e){this.lock||(this.innerText=this.formItem.text)},deep:!0,immediate:!0}},created:function(){},methods:{changeTxt:function(t){if(i.htmlToString(this.$el.innerHTML).length>500){if(this.$el.innerHTML=this.$el.innerHTML.substring(0,500),window.getSelection){var e=document.getElementsByClassName("div-edit")[0];e.focus();var a=window.getSelection();a.selectAllChildren(e),a.collapseToEnd()}else if(document.selection&&document.selection.createRange){var s=document.getElementsByClassName("div-edit")[0],n=document.selection.createRange();n.moveToElementText(s),n.collapse(!1),n.select()}}else this.$emit("change"),this.formItem.text=this.$el.innerHTML},clickEvent:function(t){this.$emit("change")},clearContent:function(){this.$el.innerHTML=""},enterkey:function(t){if(13==t.keyCode){if(t.returnValue=!1,t.keyCode?t.keyCode:t.which?t.which:t.charCode,document.selection&&document.selection.createRange)document.selection.createRange().pasteHTML("<br />");else if(window.getSelection){var e=window.getSelection(),a=window.getSelection().getRangeAt(0);a.deleteContents();var i=document.createElement("br");a.insertNode(i),a=a.cloneRange(),a.setStartAfter(i),a.collapse(!0),e.removeAllRanges(),e.addRange(a)}this.changeTxt()}},paste:function(t){t.preventDefault();var e=void 0,a=(t.originalEvent||t).clipboardData;if(void 0===a||null===a){if(""!==(e=window.clipboardData.getData("text")||""))if(window.getSelection){var i=document.createElement("span");i.innerHTML=e,window.getSelection().getRangeAt(0).insertNode(i)}else document.selection.createRange().pasteHTML(e)}else""!==(e=a.getData("text/plain")||"")&&(e=e.replace(/(\r\n)|(\n)/g,"<br>"),document.execCommand("insertHTML",!1,e))}}}},1274:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,'\n.div-edit[data-v-7878f639] {\n\t\t /*height: 100px;*/\n\t\tmin-height: 100px;\n\t\t/*border:1px solid #c2c2c2;*/\n\t\toverflow-y: auto;\n\t\tline-height: 1.4;\n\t\tpadding: 10px;\n\t\toutline: none;\n\t\tword-break: break-all;\n\t\tword-wrap: break-word;\n\t\twhite-space: pre-wrap;\n\t\tborder: 1px solid #6fabfa;\n\t\tborder-radius: 5px;\n        /*max-width: 870px;*/\n\t\tfont-family: "Chinese Quote", -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n}\n',""])},1275:function(t,e,a){a(1277);var i=a(20)(a(1273),a(1276),"data-v-7878f639",null);i.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\components\\dataManage\\divEditArea.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] divEditArea.vue: functional components are not supported with templates, they should use render functions."),t.exports=i.exports},1276:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("pre",{staticClass:"div-edit",attrs:{id:"divEdit",contenteditable:"true"},domProps:{innerHTML:t._s(t.innerText)},on:{input:t.changeTxt,focus:function(e){t.lock=!0},blur:function(e){t.lock=!1},keydown:function(e){return t.enterkey(e)},paste:function(e){return t.paste(e)},click:t.clickEvent}},[t._v("\n")])},staticRenderFns:[]},t.exports.render._withStripped=!0},1277:function(t,e,a){var i=a(1274);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(16)("21217889",i,!1)},1599:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(537),s=a.n(i),n=a(4),r=a.n(n),l=a(1275),o=a.n(l),p=a(225),c=a(32);e.default={name:"editMaterial",components:{divEditArea:o.a},data:function(){var t;return t={loading:!1,fastReply:!1,videoPath:"",previewVideo:!1,savFlg:!0,labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:18}},paramsObj:{},emojiList:p.emojiList,sendObj:{text:"",imgList:""},tabpage:"",range:null,sel:null,tabs_key:"",previewVisible:!1,previewImage:"",previewType:1},r()(t,"loading",!1),r()(t,"icon_loading",!1),r()(t,"fileList",[]),r()(t,"iconurl",""),r()(t,"mediapath",""),r()(t,"createState",""),r()(t,"headers",{Authorization:c.store.get("token")}),r()(t,"ask",""),r()(t,"imgInfo",[]),r()(t,"isRouter",!1),r()(t,"sendFile",{name:"",size:"MB",file_url:""}),t},computed:{departmentID:function(){return this.$store.state.user.user.department.id},emojiFlag:function(){return this.$store.state.liveChat.emojiFlag}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route),this.globalClick(this.closeEmoji)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},methods:{back:function(){this.isRouter=!0,this.ask?this.$router.push({name:"快捷回复",params:{tabpage:this.$route.query.tabs_key.toString()}}):this.$router.push({name:"素材管理",params:{tabpage:this.$route.query.tabs_key}})},fileHandleChange:function(t){this.loading=!0,"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?1==t.file.response.status?(this.sendFile.file_url=t.file.response.data.path,this.loading=!1,this.sendFile.name=t.file.name,this.sendFile.size=this.sizeChange(t.file.size)):this.$message.warning(t.file.response.msg):"error"===t.file.status&&this.$message.error(t.file.name+" file upload failed.")},sizeChange:function(t){return t<102.4?t.toFixed(2)+"B":t<104857.6?(t/1024).toFixed(2)+"KB":t<107374182.4?(t/1048576).toFixed(2)+"MB":(t/1073741824).toFixed(2)+"GB"},fileBeforeUpload:function(t){var e=t.size/1024/1024<20;return e||this.$message.error("文件大小必须小于20MB!"),e},videoPreview:function(t){this.previewVideo=!0,this.videoPath=t},videoChange:function(t){this.videoPath="","done"===t.file.status&&(1==t.file.response.status?this.videoPath=t.file.response.data.path:this.$notification.warning({message:"上传错误,请重试！",description:t.file.response.msg}))},videoBeforeUpload:function(t){var e="video/mp4"===t.type;e||this.$notification.warning({message:"文件格式不正确",description:"文件格式不正确，请选择MP4格式"});var a=t.size/1024/1024<10;return a||this.$message.error("视频必须小于10MB!"),a&&e},handleCancel:function(){this.previewVisible=!1},uphandlePreview:function(t){this.previewImage=t,this.previewVisible=!0,this.previewType=2},handlePreview:function(t,e){1==e?(this.iconurl=t,this.previewType=1):(this.mediapath=t,this.previewType=""),this.previewVisible=!0},updeleteFn:function(t){this.fileList.splice(t,1)},deleteFn:function(t){1==t?this.iconurl="":"video"===t?this.videoPath="":this.mediapath=""},beforeUpload:function(t){var e="image/jpeg"===t.type||("image/png"===t.type||"image/jpg"===t.type);e||this.$notification.warning({message:"文件格式不正确",description:"文件格式不正确，请选择JPG或PNG。"});var a=t.size/1024/1024<5;return a||this.$notification.warning({message:"超出文件大小限制",description:"图像不能大于5MB！"}),e&&a},uphandleChange:function(t){var e=this;if("uploading"!==t.file.status)if("done"===t.file.status)if(1==t.file.response.status){if(e.fileList.length>=9)return void this.$message.warning("最多只能上传9张图片");e.fileList.push({src:t.file.response.data.path})}else e.$notification.warning({message:"上传错误",description:t.file.response.msg});else"error"===t.file.status&&e.$notification.warning({message:"上传失败",description:"文件"+t.file.name+"上传失败"})},handleChange:function(t){if("uploading"===t.file.status)return void(this.loading=!0);"done"===t.file.status?1==t.file.response.status?(this.mediapath=t.file.response.data.path,this.loading=!1):this.$notification.warning({message:"上传错误",description:t.file.response.msg}):"error"===t.file.status&&this.$notification.warning({message:"上传失败",description:"文件"+t.file.name+"上传失败"})},icon_handleChange:function(t){if("uploading"===t.file.status)return void(this.icon_loading=!0);"done"===t.file.status?1==t.file.response.status?(this.icon_loading=!1,this.iconurl=t.file.response.data.path):this.$notification.warning({message:"上传错误",description:t.file.response.msg}):"error"===t.file.status&&this.$notification.warning({message:"上传失败",description:"文件"+t.file.name+"上传失败"})},showEmoji:function(){this.$store.commit("liveChat/setEmojiFlag",!this.emojiFlag)},closeEmoji:function(){this.$store.commit("liveChat/setEmojiFlag",!1)},emojiAdd:function(t){document.getElementById("text_area").focus();var e="<img src='static/img_file/emojiBG.png' class= '"+t.currentTarget.classList.value+"' title_name='"+t.currentTarget.attributes.title_name.nodeValue+"'>";this.emojiAddInPosition(e),this.$refs.div_edit.changeTxt()},emojiAddInPosition:function(t,e){var a=void 0,i=void 0;if(e||this.getRange(),window.getSelection){!e&&this.range?(a=this.sel,i=this.range):(a=window.getSelection(),i=a.getRangeAt(0)),i.deleteContents(),a=window.getSelection();var s=void 0,n=void 0;if(i.createContextualFragment)s=i.createContextualFragment(t);else{var r=document.createElement("div");for(r.innerHTML=t,s=document.createDocumentFragment();n=r.firstChild;)s.appendChild(n)}var l=s.lastChild;i.insertNode(s),i.setStartAfter(l),a.removeAllRanges(),a.addRange(i);var o=document.getElementById("text_area"),p=l.offsetTop-55+l.offsetHeight-o.offsetHeight;o.scrollTop<p&&(o.scrollTop=p)}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(t)},getSel:function(){window.getSelection?(this.sel=window.getSelection(),this.range=this.sel.getRangeAt(0)):this.range=document.selection.createRange()},getRange:function(){this.range?window.getSelection?(this.sel.removeAllRanges(),this.sel.addRange(this.range)):this.range.select():this.setRange()},setRange:function(){var t,e,a=document.getElementById("text_area");document.createRange?(t=document.createRange(),t.selectNodeContents(a),t.collapse(!1),e=window.getSelection(),e.removeAllRanges(),e.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(a),t.collapse(!1),t.select())},save:function(){var t=this,e=parseInt(this.tabs_key);if(1==e&&!p.htmlToString(this.sendObj.text))return this.savFlg=!1,!1;if(2==e&&!this.mediapath)return this.savFlg=!1,!1;if(!(3!=e||this.paramsObj.desc&&this.mediapath&&this.paramsObj.title&&this.paramsObj.url))return this.savFlg=!1,!1;if(!(4!=e||this.paramsObj.orginid&&this.paramsObj.title))return this.savFlg=!1,!1;if(!(5!=e||this.paramsObj.title&&this.paramsObj.appid&&this.paramsObj.orginid&&this.paramsObj.desc&&this.iconurl&&this.mediapath))return this.savFlg=!1,!1;if(6==e&&(!this.paramsObj.title||!p.htmlToString(this.sendObj.text)||0==this.fileList.length||this.fileList.length>9))return this.fileList.length>9&&this.$message.warning("最多只能上传9张图片"),this.savFlg=!1,!1;if(7===e&&!this.sendFile.file_url)return console.log(e),this.savFlg=!1,this.$message.warning("请输入问题"),!1;if(8===e&&!this.videoPath)return this.savFlg=!1,this.$message.warning("请上传视频"),!1;var a=[],i=!0,n=!1,r=void 0;try{for(var l,o=s()(this.fileList);!(i=(l=o.next()).done);i=!0){var c=l.value;a.push(c.src)}}catch(t){n=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}if("1"==this.createState)switch(this.paramsObj.department_id=this.departmentID,e){case 1:this.paramsObj.type=1,this.tabpage=1,this.paramsObj.content=p.htmlToString(this.sendObj.text);break;case 2:this.paramsObj.type=2,this.tabpage=2,this.paramsObj.mediapath=this.mediapath;break;case 3:this.paramsObj.type=3,this.tabpage=3,this.paramsObj.mediapath=this.mediapath;break;case 4:this.paramsObj.type=7,this.tabpage=4,this.paramsObj.mediapath=this.mediapath;break;case 5:this.paramsObj.type=8,this.tabpage=5,this.paramsObj.mediapath=this.mediapath,this.paramsObj.iconurl=this.iconurl;break;case 6:this.paramsObj.type=9,this.tabpage=6,this.paramsObj.album=a,this.paramsObj.album_type=0,this.paramsObj.content=p.htmlToString(this.sendObj.text);break;case 7:this.paramsObj.type=10,this.paramsObj.title=this.sendFile.name,this.paramsObj.desc=this.sendFile.size,this.paramsObj.mediapath=this.sendFile.file_url;break;case 8:this.paramsObj.mediapath=this.videoPath,this.paramsObj.type=11}else{switch(e){case 1:this.paramsObj.content=p.htmlToString(this.sendObj.text);break;case 2:case 3:case 4:this.paramsObj.mediapath=this.mediapath;break;case 5:this.paramsObj.mediapath=this.mediapath,this.paramsObj.iconurl=this.iconurl;break;case 6:this.paramsObj.album=a,this.paramsObj.content=p.htmlToString(this.sendObj.text);break;case 7:this.paramsObj.title=this.sendFile.name,this.paramsObj.desc=this.sendFile.size,this.paramsObj.mediapath=this.sendFile.file_url;break;case 8:this.paramsObj.mediapath=this.videoPath}console.log(this.paramsObj)}var d="1"==t.createState?"/index.php?r=uc/material/materialadd":"/index.php?r=uc/material/materialupdate";""!=t.ask&&(t.paramsObj.ask=t.ask),this.$axios({method:"POST",url:d,data:t.paramsObj}).then(function(e){var a=e.data;1==a.status?(t.isRouter=!0,t.$notification.success({message:"成功",description:"保存成功",duration:2}),t.ask?t.$router.push({name:"快捷回复",params:{tabpage:t.$route.query.tabs_key}}):t.$router.push({name:"素材管理",params:{tabpage:t.$route.query.tabs_key}})):t.$message.warn(a.msg)})},refreshGroup:function(){var t=this,e=parseInt(this.tabs_key);this.$axios({method:"POST",url:"/index.php?r=uc/material/material-one",data:{id:t.$route.query.id,ask:this.ask}}).then(function(a){var i=a.data;if(1==i.status)switch(console.log(i.data),t.paramsObj=i.data,e){case 1:t.sendObj.text=p.stringToHtml(t.paramsObj.content);break;case 2:case 3:case 4:t.mediapath=t.paramsObj.mediapath;break;case 5:t.mediapath=t.paramsObj.mediapath,t.iconurl=t.paramsObj.iconurl;break;case 6:t.fileList=t.paramsObj.album,t.sendObj.text=p.stringToHtml(t.paramsObj.content);break;case 7:t.sendFile.name=t.paramsObj.title,t.sendFile.size=t.paramsObj.desc,t.sendFile.file_url=t.paramsObj.mediapath;break;case 8:t.videoPath=t.paramsObj.mediapath}else t.$message.warn(i.msg)})}},created:function(){this.sendObj={text:"",imgList:""},this.paramsObj={},this.tabs_key=this.$route.query.tabs_key,this.ask=this.$route.query.ask,this.fastReply=this.$route.query.fastReply,this.createState=this.$route.query.create,"1"==!this.createState&&this.refreshGroup()},beforeRouteLeave:function(t,e,a){var i=this;a(!1),this.isRouter?(i.isRouter=!1,a()):this.$confirm({title:"提示",content:"此素材未进行保存，进行其他操作会导致该素材内容被清空，是否继续?",okText:"确定",cancelText:"取消",onOk:function(){i.isRouter=!1,a()}})}}},1737:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.fileStyle{\r\n    position:absolute;\r\n    left:50%;\r\n    top:50%;\r\n    transform: translate(0 ,-50%);\r\n    font-size:30px;\r\n    text-align:center;\n}\n.ant-form-item-control .ant-form-explain{\r\n\t\tmargin-top:12px;\n}\n.ant-upload-list {\r\n\t\tposition: relative;\r\n\t    height: 112px;\r\n\t    width: 112px;\r\n\t    margin-left: 25%;\n}\n.tabs_key .ant-upload-list {\r\n\t\t height: auto;\r\n\t    width: auto;\r\n\t\tmargin-left: 0px;\n}\n.ant-upload-select-picture-card i {\r\n\t\tfont-size: 32px;\r\n\t\tcolor: #999;\n}\n.bgsty{\r\n\t\tbackground:#fcfcfc;\n}\n.ant-upload.ant-upload-drag p.ant-upload-text{\r\n\t\tmargin-top: 8px;\r\n\t\tcolor: #666;\r\n\t\tpadding: 0 20px;\n}\n.tabs_key .ant-upload{\r\n\theight: 104px;\r\n\twidth: 104px;\r\n\tdisplay: inline-block;\n}\n.ant-upload-list-item-actions svg{\r\n\tfont-size: 20px;\n}\n.ant-upload-drag-icon svg{\r\n\tfont-size: 60px;\n}\n.tabs_key .anticon-plus svg{\r\n\tfont-size: 30px;\n}\n.moadalVideo> .ant-modal-content{\r\n    background:none;\r\n    box-shadow: none;\n}\n.moadalVideo>.ant-modal-content>.ant-modal-close{\r\n    position: absolute;\r\n    top:12px;\r\n    right:12px;\n}\r\n",""])},1738:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,'\n.container_box[data-v-611fa450] {\n  height: calc(100vh - 200px);\n  overflow-y: auto;\n  /*max-height: 500px;*/\n}\n.ant-form-split[data-v-611fa450] {\n  margin-left: 46px;\n}\n.loading[data-v-611fa450] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -7px;\n  margin-left: -7px;\n}\n.mag_push_title[data-v-611fa450] {\n  background: #fff;\n  margin: 0 0 10px 0;\n  padding: 17px 38px;\n  font-size: 16px;\n}\n.input-content[data-v-611fa450] {\n  padding: 10px 0;\n  height: auto;\n  border-top: none;\n}\n.input-content .tools[data-v-611fa450] {\n  position: absolute;\n  bottom: -14px;\n  left: -10px;\n  display: flex;\n}\n.input-content .tools > div[data-v-611fa450] {\n  padding: 0 10px;\n  cursor: pointer;\n}\n.input-content .tools > div .anticon svg[data-v-611fa450] {\n  font-size: 20px;\n}\n.input-content .tools > div #emoji[data-v-611fa450] {\n  position: absolute;\n  top: -165px;\n  width: 390px;\n  height: 155px;\n  left: 0;\n  border: 1px solid #cccccc;\n  padding: 5px;\n  z-index: 10;\n  line-height: 1;\n  background: #ffffff;\n  box-shadow: 0px 1px 10px 3px #ccc;\n}\n.input-content .tools > div #emoji[data-v-611fa450]::after {\n  margin-top: -1px;\n  border: 7px solid transparent;\n  border-top-color: #fff;\n  content: "";\n  position: absolute;\n  left: 16px;\n  top: 100%;\n  margin-left: -5px;\n}\n.input-content #edit .div-edit[data-v-611fa450] {\n  border: 1px solid #ccc;\n}\n.input-content .input-content-area[data-v-611fa450] {\n  word-wrap: break-word;\n  white-space: normal;\n}\n.input-content .input-content-area #emoji[data-v-611fa450] {\n  position: absolute;\n  top: -160px;\n  width: 390px;\n  height: 155px;\n  left: 0;\n  border: 1px solid #cccccc;\n  padding: 5px;\n  z-index: 10;\n  line-height: 1;\n  background: #ffffff;\n}\n',""])},2122:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative",margin:"20px 20px 50px 20px"}},[a("div",{staticClass:"mag_push_title"},[t._v("\n\t\t\t"+t._s(1==t.tabs_key?1==t.createState?"添加文本素材":"编辑文本素材":2==t.tabs_key?1==t.createState?"添加图片素材":"编辑图片素材":3==t.tabs_key?1==t.createState?"添加链接素材":"编辑链接素材":4==t.tabs_key?1==t.createState?"添加名片素材":"编辑名片素材":5==t.tabs_key?1==t.createState?"添加小程序素材":"编辑小程序素材":6==t.tabs_key?1==t.createState?"添加图文素材":"编辑图文素材":7==t.tabs_key?1==t.createState?"添加文件素材":"编辑文件素材":8==t.tabs_key?1==t.createState?"添加视频素材":"编辑视频素材":"")+"\n\t\t\t"),a("a-button",{staticStyle:{float:"right","z-index":"1"},attrs:{type:"default",icon:"left"},on:{click:function(e){return t.back()}}},[t._v("返回")])],1),t._v(" "),a("a-row",{staticClass:"container_box",staticStyle:{padding:"50px 0",position:"relative",background:"#fff"},attrs:{justify:"center"}},[a("a-col",{attrs:{span:"18",push:"3"}},[t.fastReply||t.ask?a("div",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[a("span",{staticStyle:{color:"#222"}},[t._v("问题：")]),t._v(" "),a("a-input",{staticStyle:{display:"inline-block",width:"75%",position:"relative"},attrs:{placeholder:"请输入问题",maxlength:"15"},model:{value:t.paramsObj.question,callback:function(e){t.$set(t.paramsObj,"question",e)},expression:"paramsObj.question"}}),t._v(" "),t.savFlg?t._e():a("p",{staticStyle:{"text-align":"right",color:"red",width:"30%","margin-left":"20px"}},[t._v("请输入问题...")])],1):t._e(),t._v(" "),1==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:t.fastReply?"回答":"素材内容",validateStatus:t.savFlg?"":t.sendObj.text?"success":"error",help:t.savFlg?"":t.sendObj.text?"":"请输入文本。。。"}},[a("div",{staticClass:"input-content",staticStyle:{position:"relative"}},[a("div",{staticClass:"tools"},[a("div",[a("a-icon",{attrs:{type:"smile",id:"showEmoji"},on:{click:function(e){return t.showEmoji()}}}),t._v(" "),t.emojiFlag?a("div",{attrs:{id:"emoji"}},t._l(t.emojiList,function(e,i){return a("a",{staticClass:"qqemoji",class:e.className,staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;",title_name:e.title},on:{click:function(e){return t.emojiAdd(e)}}})}),0):t._e()],1)]),t._v(" "),a("div",{staticClass:"input-content-area"},[a("div-edit-area",{ref:"div_edit",staticStyle:{height:"inherit"},attrs:{id:"text_area",formItem:t.sendObj},on:{change:function(e){return t.getSel()}}})],1)])])],1)]:t._e(),t._v(" "),2==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:t.fastReply?"回答":"素材图片：",validateStatus:t.savFlg?"":t.mediapath?"success":"error",help:t.savFlg?"":t.mediapath?"":"请上传图片。。。"}},[a("a-upload-dragger",{staticClass:"bgsty",attrs:{name:"file",headers:t.headers,listType:"picture-card",beforeUpload:t.beforeUpload,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),t._v(" "),a("p",{staticClass:"ant-upload-text"},[t._v("点击或将文件拖拽到这里上传图片(文件大小不能超过1M,支持文件类型jpg,png)")])])],1),t._v(" "),a("div",{staticClass:"ant-upload-list ant-upload-list-picture-card"},[t.loading?a("a-icon",{staticClass:"loading",attrs:{type:"loading"}}):t._e(),t._v(" "),t.mediapath?a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("span",[a("a",{staticClass:"ant-upload-list-item-thumbnail",attrs:{href:"javascript:void(0)",rel:"noopener noreferrer"}},[a("img",{attrs:{src:t.mediapath,alt:"mediapath"}})])])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{attrs:{type:"eye"},on:{click:function(e){return t.handlePreview(t.mediapath)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.deleteFn(2)}}})],1)]):t._e()],1)],1)]:t._e(),t._v(" "),3==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"链接标题：",validateStatus:t.savFlg?"":t.paramsObj.title?"success":"error",help:t.savFlg?"":t.paramsObj.title?"":"请输入链接标题"}},[a("a-input",{attrs:{placeholder:"请输入链接标题",maxlength:"30"},model:{value:t.paramsObj.title,callback:function(e){t.$set(t.paramsObj,"title",e)},expression:"paramsObj.title"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"链接地址：",validateStatus:t.savFlg?"":t.paramsObj.url?"success":"error",help:t.savFlg?"":t.paramsObj.url?"":"请输入链接地址"}},[a("a-input",{attrs:{placeholder:"请输入链接地址"},model:{value:t.paramsObj.url,callback:function(e){t.$set(t.paramsObj,"url",e)},expression:"paramsObj.url"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"链接描述：",validateStatus:t.savFlg?"":t.paramsObj.desc?"success":"error",help:t.savFlg?"":t.paramsObj.desc?"":"请输入链接描述"}},[a("a-input",{attrs:{placeholder:"请输入链接描述",type:"textarea",autosize:{minRows:3,maxRows:6},maxlength:"50"},model:{value:t.paramsObj.desc,callback:function(e){t.$set(t.paramsObj,"desc",e)},expression:"paramsObj.desc"}}),t._v(" "),a("div",{staticStyle:{"font-size":"12px","line-height":"initial",color:"#F4524E"}},[t._v("\n\t\t\t\t\t\t\t\t“注：在朋友圈发送链接时， “链接描述”不可见”\n\t\t\t\t\t\t\t")])],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"素材图片：",validateStatus:t.savFlg?"":t.mediapath?"success":"error",help:t.savFlg?"":t.mediapath?"":"请上传图片素材"}},[a("a-upload-dragger",{attrs:{name:"file",headers:t.headers,listType:"picture-card",beforeUpload:t.beforeUpload,multiple:!0,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),t._v(" "),a("p",{staticClass:"ant-upload-text"},[t._v("点击或将文件拖拽到这里上传图片(文件大小不能超过1M,支持文件类型jpg,png)")])])],1),t._v(" "),a("div",{staticClass:"ant-upload-list ant-upload-list-picture-card",staticStyle:{position:"relative",height:"112px",width:"112px"}},[t.loading?a("a-icon",{staticStyle:{position:"absolute",top:"50%",left:"50%","margin-top":"-7px","margin-left":"-7px"},attrs:{type:"loading"}}):t._e(),t._v(" "),t.mediapath?a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("span",[a("a",{staticClass:"ant-upload-list-item-thumbnail",attrs:{href:"javascript:void(0)",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:t.mediapath,alt:"mediapath"}})])])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{attrs:{type:"eye"},on:{click:function(e){return t.handlePreview(t.mediapath)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.deleteFn(2)}}})],1)]):t._e()],1)],1)]:t._e(),t._v(" "),4==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"公众号原始ID：",validateStatus:t.savFlg?"":t.paramsObj.orginid?"success":"error",help:t.savFlg?"":t.paramsObj.orginid?"":"请输入公众号原始ID"}},[a("a-input",{attrs:{placeholder:"请输入公众号原始ID (gh_ 开头)",maxlength:"30"},model:{value:t.paramsObj.orginid,callback:function(e){t.$set(t.paramsObj,"orginid",e)},expression:"paramsObj.orginid"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"公众号全称：",validateStatus:t.savFlg?"":t.paramsObj.title?"success":"error",help:t.savFlg?"":t.paramsObj.title?"":"请输入公众号全称"}},[a("a-input",{attrs:{placeholder:"请输入公众号全称",maxlength:"15"},model:{value:t.paramsObj.title,callback:function(e){t.$set(t.paramsObj,"title",e)},expression:"paramsObj.title"}})],1)],1)]:t._e(),t._v(" "),5==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序名称：",validateStatus:t.savFlg?"":t.paramsObj.title?"success":"error",help:t.savFlg?"":t.paramsObj.title?"":"请输入小程序名称"}},[a("a-input",{attrs:{placeholder:"请输入小程序名称",maxlength:"15"},model:{value:t.paramsObj.title,callback:function(e){t.$set(t.paramsObj,"title",e)},expression:"paramsObj.title"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序APPID：",validateStatus:t.savFlg?"":t.paramsObj.appid?"success":"error",help:t.savFlg?"":t.paramsObj.appid?"":"请输入小程序APPID"}},[a("a-input",{attrs:{placeholder:"请输入小程序APPID",maxlength:"25"},model:{value:t.paramsObj.appid,callback:function(e){t.$set(t.paramsObj,"appid",e)},expression:"paramsObj.appid"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序原始ID：",validateStatus:t.savFlg?"":t.paramsObj.orginid?"success":"error",help:t.savFlg?"":t.paramsObj.orginid?"":"请输入小程序原始ID"}},[a("a-input",{attrs:{placeholder:"请输入小程序原始ID",maxlength:"25"},model:{value:t.paramsObj.orginid,callback:function(e){t.$set(t.paramsObj,"orginid",e)},expression:"paramsObj.orginid"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序标题：",validateStatus:t.savFlg?"":t.paramsObj.desc?"success":"error",help:t.savFlg?"":t.paramsObj.desc?"":"请输入小程序标题"}},[a("a-input",{attrs:{placeholder:"请输入小程序标题",maxlength:"25"},model:{value:t.paramsObj.desc,callback:function(e){t.$set(t.paramsObj,"desc",e)},expression:"paramsObj.desc"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序页面路径："}},[a("a-input",{attrs:{placeholder:"请输入小程序页面路径",maxlength:"50"},model:{value:t.paramsObj.url,callback:function(e){t.$set(t.paramsObj,"url",e)},expression:"paramsObj.url"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序图标：",validateStatus:t.savFlg?"":t.iconurl?"success":"error",help:t.savFlg?"":t.iconurl?"":"请上传小程序图标"}},[a("a-upload-dragger",{attrs:{name:"file",headers:t.headers,listType:"picture-card",beforeUpload:t.beforeUpload,multiple:!0,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.icon_handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),t._v(" "),a("p",{staticClass:"ant-upload-text"},[t._v("点击或将文件拖拽到这里上传图片(文件大小不能超过1M,支持文件类型jpg,png)")])])],1),t._v(" "),a("a-col",{attrs:{span:"24"}},[a("div",{staticClass:"ant-upload-list ant-upload-list-picture-card",staticStyle:{position:"relative",height:"112px",width:"112px"}},[t.icon_loading?a("a-icon",{staticStyle:{position:"absolute",top:"50%",left:"50%","margin-top":"-7px","margin-left":"-7px"},attrs:{type:"loading"}}):t._e(),t._v(" "),t.iconurl?a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("span",[a("a",{staticClass:"ant-upload-list-item-thumbnail",attrs:{href:"javascript:void(0)",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:t.iconurl,alt:t.iconurl}})])])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{attrs:{type:"eye"},on:{click:function(e){return t.handlePreview(t.iconurl,1)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.deleteFn(1)}}})],1)]):t._e()],1)]),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"小程序封面图片：",validateStatus:t.savFlg?"":t.mediapath?"success":"error",help:t.savFlg?"":t.mediapath?"":"请上传小程序封面图片"}},[a("a-upload-dragger",{attrs:{name:"file",headers:t.headers,listType:"picture-card",beforeUpload:t.beforeUpload,multiple:!0,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),t._v(" "),a("p",{staticClass:"ant-upload-text"},[t._v("点击或将文件拖拽到这里上传图片(文件大小不能超过1M,支持文件类型jpg,png)")])])],1),t._v(" "),a("a-col",{attrs:{span:"24"}},[a("div",{staticClass:"ant-upload-list ant-upload-list-picture-card",staticStyle:{position:"relative",height:"112px",width:"112px"}},[t.loading?a("a-icon",{staticStyle:{position:"absolute",top:"50%",left:"50%","margin-top":"-7px","margin-left":"-7px"},attrs:{type:"loading"}}):t._e(),t._v(" "),t.mediapath?a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("span",[a("a",{staticClass:"ant-upload-list-item-thumbnail",attrs:{href:"javascript:void(0)",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:t.mediapath,alt:t.mediapath}})])])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{attrs:{type:"eye"},on:{click:function(e){return t.handlePreview(t.mediapath)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.deleteFn(2)}}})],1)]):t._e()],1)])],1)]:t._e(),t._v(" "),6==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"素材名称：",validateStatus:t.savFlg?"":t.paramsObj.title?"success":"error",help:t.savFlg?"":t.paramsObj.title?"":"请输入素材名称"}},[a("a-input",{attrs:{placeholder:"请输入素材名称",maxlength:"15"},model:{value:t.paramsObj.title,callback:function(e){t.$set(t.paramsObj,"title",e)},expression:"paramsObj.title"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"素材内容：",validateStatus:t.savFlg?"":t.sendObj.text?"success":"error",help:t.savFlg?"":t.sendObj.text?"":"请输入素材内容"}},[a("div",{staticClass:"input-content",staticStyle:{position:"relative"}},[a("div",{staticClass:"tools"},[a("div",[a("a-icon",{attrs:{type:"smile",id:"showEmoji"},on:{click:function(e){return t.showEmoji()}}}),t._v(" "),t.emojiFlag?a("div",{attrs:{id:"emoji"}},t._l(t.emojiList,function(e,i){return a("a",{staticClass:"qqemoji",class:e.className,staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;",title_name:e.title},on:{click:function(e){return t.emojiAdd(e)}}})}),0):t._e()],1)]),t._v(" "),a("div",{staticClass:"input-content-area"},[a("div-edit-area",{ref:"div_edit",attrs:{id:"text_area",formItem:t.sendObj},on:{change:function(e){return t.getSel()}}})],1)])]),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"素材图片：",validateStatus:t.savFlg?"":t.fileList.length>0?"success":"error",help:t.savFlg?"":t.fileList.length>0?"":"请上传图片素材"}},[a("div",{staticClass:"clearfix tabs_key"},[a("a-col",{attrs:{span:"24"}},[a("div",{staticClass:"clearfix ant-upload-list ant-upload-list-picture-card"},[t._l(t.fileList,function(e,i){return a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("span",[a("a",{staticClass:"ant-upload-list-item-thumbnail",attrs:{href:"javascript:void(0)",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:e.src,alt:e.src}})])])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{attrs:{type:"eye"},on:{click:function(a){return t.uphandlePreview(e.src)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.updeleteFn(i)}}})],1)])}),t._v(" "),a("a-upload-dragger",{attrs:{name:"file",headers:t.headers,beforeUpload:t.beforeUpload,listType:"picture-card",multiple:!0,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.uphandleChange}},[a("div",{staticStyle:{position:"relative",left:"20px"}},[a("a-icon",{attrs:{type:"plus"}}),t._v(" "),a("div",{staticClass:"ant-upload-text"},[t._v("上传图片")])],1)])],2)])],1)])],1)]:t._e(),t._v(" "),7==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:t.fastReply?"回答":"文件素材：",validateStatus:t.savFlg?"":t.sendFile.name?"success":"error",help:t.savFlg?"":t.sendFile.name?"":"请上传文件。。。"}},[t.sendFile.file_url?a("div",{staticStyle:{width:"260px",height:"40px","line-height":"40px",background:"#fff",cursor:"pointer"}},[a("div",[a("a-icon",{attrs:{type:"file"}}),t._v(" "),a("span",[t._v(" "+t._s(t.sendFile.name))]),t._v(" "),a("span",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(t.sendFile.size))])],1)]):t._e(),t._v(" "),a("a-upload-dragger",{staticClass:"bgsty",attrs:{name:"file",headers:t.headers,listType:"picture-card",beforeUpload:t.fileBeforeUpload,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.fileHandleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[t.loading?t._e():a("a-icon",{attrs:{type:"inbox"}}),t._v(" "),t.loading?a("a-icon",{attrs:{type:"loading"}}):t._e()],1),t._v(" "),a("p",{staticClass:"ant-upload-text"},[t._v("上传文件,文件大小必须小于20MB！")])])],1),t._v(" "),a("div",{staticClass:"ant-upload-list ant-upload-list-picture-card"},[t.mediapath?a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("span",[a("a",{staticClass:"ant-upload-list-item-thumbnail",attrs:{href:"javascript:void(0)",rel:"noopener noreferrer"}},[a("img",{attrs:{src:t.mediapath,alt:"mediapath"}})])])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{attrs:{type:"eye"},on:{click:function(e){return t.handlePreview(t.mediapath)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.deleteFn(2)}}})],1)]):t._e()])],1)]:t._e(),t._v(" "),8==t.tabs_key?[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:t.fastReply?"回答":"视频素材："}},[a("a-upload-dragger",{staticClass:"bgsty",attrs:{name:"file",headers:t.headers,listType:"picture-card",beforeUpload:t.videoBeforeUpload,showUploadList:!1,action:"/index.php?r=uc/user/upload"},on:{change:t.videoChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[t.loading?t._e():a("a-icon",{attrs:{type:"inbox"}}),t._v(" "),t.loading?a("a-icon",{attrs:{type:"loading"}}):t._e()],1),t._v(" "),a("p",{staticClass:"ant-upload-text"},[t._v(t._s(t.ask?"点击或将视频文件拖拽到这里上传（注：视频文件大小不超过10M,支持文件类型mp4）":"点击或将视频文件拖拽到这里上传（注：视频文件大小不超过10M,支持文件类型mp4，如果用于朋友圈推送视频时长超过15s将推送失败）"))])])],1),t._v(" "),a("div",{staticClass:"ant-upload-list ant-upload-list-picture-card"},[t.videoPath?a("div",{staticClass:"ant-upload-list-item ant-upload-list-item-done"},[a("div",{staticClass:"ant-upload-list-item-info"},[a("video",{staticStyle:{width:"88px",height:"86px"}},[a("source",{attrs:{src:t.videoPath,type:"video/mp4"}})])]),t._v(" "),a("span",{staticClass:"ant-upload-list-item-actions"},[a("a",{attrs:{href:"javascript:void(0)"}},[a("a-icon",{staticStyle:{color:"#fff"},attrs:{type:"play-circle",theme:"filled"},on:{click:function(e){return t.videoPreview(t.videoPath)}}})],1),t._v(" "),a("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.deleteFn("video")}}})],1)]):t._e()])],1)]:t._e()],2),t._v(" "),a("a-col",{attrs:{span:18,push:3}},[a("div",{staticStyle:{"text-align":"right"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("保存")]),t._v(" "),a("a-button",{on:{click:t.back}},[t._v("取消")])],1)])],1),t._v(" "),a("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:1==t.previewType?t.iconurl:2==t.previewType?t.previewImage:t.mediapath}})]),t._v(" "),a("a-modal",{staticClass:"moadalVideo",attrs:{visible:t.previewVideo,footer:null,width:"400px"},on:{cancel:function(e){t.previewVideo=!1}}},[t.previewVideo?a("video",{staticStyle:{width:"100%",height:"100%"},attrs:{controls:""}},[a("source",{attrs:{src:t.videoPath,type:"video/mp4"}})]):t._e()])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2218:function(t,e,a){var i=a(1737);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(16)("04f81a5b",i,!1)},2219:function(t,e,a){var i=a(1738);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(16)("51b81ea2",i,!1)}});