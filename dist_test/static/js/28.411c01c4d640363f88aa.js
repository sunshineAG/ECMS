webpackJsonp([28],{1209:function(t,e,n){n(2188),n(2187);var o=n(20)(n(1613),n(2101),"data-v-30ca8bc6",null);o.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\view\\customerManage\\groupDetails.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] groupDetails.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},1273:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(225);e.default={name:"divEdittArea",props:{formItem:{type:Object,default:{text:""}}},data:function(){return{innerText:"",lock:!1}},computed:{},watch:{formItem:{handler:function(t,e){this.lock||(this.innerText=this.formItem.text)},deep:!0,immediate:!0}},created:function(){},methods:{changeTxt:function(t){if(o.htmlToString(this.$el.innerHTML).length>500){if(this.$el.innerHTML=this.$el.innerHTML.substring(0,500),window.getSelection){var e=document.getElementsByClassName("div-edit")[0];e.focus();var n=window.getSelection();n.selectAllChildren(e),n.collapseToEnd()}else if(document.selection&&document.selection.createRange){var a=document.getElementsByClassName("div-edit")[0],i=document.selection.createRange();i.moveToElementText(a),i.collapse(!1),i.select()}}else this.$emit("change"),this.formItem.text=this.$el.innerHTML},clickEvent:function(t){this.$emit("change")},clearContent:function(){this.$el.innerHTML=""},enterkey:function(t){if(13==t.keyCode){if(t.returnValue=!1,t.keyCode?t.keyCode:t.which?t.which:t.charCode,document.selection&&document.selection.createRange)document.selection.createRange().pasteHTML("<br />");else if(window.getSelection){var e=window.getSelection(),n=window.getSelection().getRangeAt(0);n.deleteContents();var o=document.createElement("br");n.insertNode(o),n=n.cloneRange(),n.setStartAfter(o),n.collapse(!0),e.removeAllRanges(),e.addRange(n)}this.changeTxt()}},paste:function(t){t.preventDefault();var e=void 0,n=(t.originalEvent||t).clipboardData;if(void 0===n||null===n){if(""!==(e=window.clipboardData.getData("text")||""))if(window.getSelection){var o=document.createElement("span");o.innerHTML=e,window.getSelection().getRangeAt(0).insertNode(o)}else document.selection.createRange().pasteHTML(e)}else""!==(e=n.getData("text/plain")||"")&&(e=e.replace(/(\r\n)|(\n)/g,"<br>"),document.execCommand("insertHTML",!1,e))}}}},1274:function(t,e,n){e=t.exports=n(15)(!1),e.push([t.i,'\n.div-edit[data-v-7878f639] {\n\t\t /*height: 100px;*/\n\t\tmin-height: 100px;\n\t\t/*border:1px solid #c2c2c2;*/\n\t\toverflow-y: auto;\n\t\tline-height: 1.4;\n\t\tpadding: 10px;\n\t\toutline: none;\n\t\tword-break: break-all;\n\t\tword-wrap: break-word;\n\t\twhite-space: pre-wrap;\n\t\tborder: 1px solid #6fabfa;\n\t\tborder-radius: 5px;\n        /*max-width: 870px;*/\n\t\tfont-family: "Chinese Quote", -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "Helvetica Neue", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n}\n',""])},1275:function(t,e,n){n(1277);var o=n(20)(n(1273),n(1276),"data-v-7878f639",null);o.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\components\\dataManage\\divEditArea.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] divEditArea.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},1276:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("pre",{staticClass:"div-edit",attrs:{id:"divEdit",contenteditable:"true"},domProps:{innerHTML:t._s(t.innerText)},on:{input:t.changeTxt,focus:function(e){t.lock=!0},blur:function(e){t.lock=!1},keydown:function(e){return t.enterkey(e)},paste:function(e){return t.paste(e)},click:t.clickEvent}},[t._v("\n")])},staticRenderFns:[]},t.exports.render._withStripped=!0},1277:function(t,e,n){var o=n(1274);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(16)("21217889",o,!1)},1278:function(t,e,n){t.exports=n.p+"static/img/room_avatar.f4934ab.png"},1613:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1275),a=n.n(o),i=n(225),s=n(93);e.default={name:"",components:{divEditArea:a.a},data:function(){return{id:this.$route.query.id,department_id:this.$route.query.department_id,user_id:this.$route.query.user_id,inptFlg:!1,grpMsgFlg:!1,hasMsgFlg:!1,modalFlg:"",com_visible:!1,room_name:"",qr_code:"",created:"",RoomNotice:{text:""},label_all:[],label_own:[],welcome_all:[],welcome_own:{},auto_reply_all:[],auto_reply_own:[],room_user:[],room_owner:"",room_wx_id:"",assistant_nickname:"",columns:[{title:"微信头像",dataIndex:"header_img_url",align:"center",scopedSlots:{customRender:"header_img_url"}},{title:"微信号",align:"center",dataIndex:"username"},{title:"微信昵称",align:"center",dataIndex:"nickname"},{title:"微信备注",align:"center",dataIndex:"remark"},{title:"进群时间",align:"center",dataIndex:"created"},{title:"进群方式",dataIndex:"avatar_type",align:"center",scopedSlots:{customRender:"avatar_type"}},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"}}],page_size:10,page:1,total:0,roomName_Notice:"",is_expire_time:1,emojiList:i.emojiList}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route),this.globalClick(this.closeEmoji)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},computed:{emojiFlag:function(){return this.$store.state.liveChat.emojiFlag}},beforeCreate:function(){this.form=this.$form.createForm(this),this.form.getFieldDecorator("notic",{initialValue:[""]})},methods:{goBack:function(){this.$router.push({path:"/home/groupList"})},titleShow:function(){var t=this;setTimeout(function(e){t.inptFlg=!1},300)},changeRoomName:function(){var t=this;s.isOfflineRobot(this.room_owner,this.$store.state.user.offlineRobot)&&this.$store.commit("user/setRobotStatus","2");var e={cmd:2018,fromClientId:this.$store.state.user.user.user_id,toClientId:this.room_owner,cmdData:{username:this.room_wx_id,nickname:this.roomName_Notice}};this.$ws.sendMsgFun(e),this.$ws.cmd2018=function(e){2==e.status?(t.$message.success("修改群名成功"),t.room_name=t.roomName_Notice):4==e.status&&(t.$notification.warning({message:function(t){return t("div",{domProps:{innerHTML:e.callbackMsg}})},description:"暂无法执行操作，请检查手机连接状态",duration:2,style:{background:"#fbf8e9"}}),t.room_name=t.roomName_Notice)}},changeText:function(){this.inptFlg=!0,this.roomName_Notice=this.room_name},editGroupMsg:function(t){this.grpMsgFlg=!0,this.roomName_Notice=this.RoomNotice.text},saveGroup:function(t){var e=this;this.grpMsgFlg=!1,s.isOfflineRobot(this.room_owner,this.$store.state.user.offlineRobot)&&this.$store.commit("user/setRobotStatus","2");var n={cmd:2021,fromClientId:this.$store.state.user.user.user_id,toClientId:this.room_owner,cmdData:{username:this.room_wx_id,noticeContent:i.htmlToString(this.RoomNotice.text)}};this.$ws.sendMsgFun(n),this.$ws.cmd2021=function(t){2==t.status||3==t.status?("公告发送成功"==t.callbackMsg&&e.$message.success("修改公告成功"),e.RoomNotice={text:e.RoomNotice.text}):4==t.status?(e.$notification.warning({message:function(e){return e("div",{domProps:{innerHTML:t.callbackMsg}})},description:"暂无法执行操作，请检查手机连接状态",duration:2,style:{background:"#fbf8e9"}}),e.RoomNotice.text=e.roomName_Notice):1!=t.status&&(e.RoomNotice.text=e.roomName_Notice)}},addTag:function(t){var e=this;"1"==t?this.label_all.forEach(function(t){e.label_own.forEach(function(e){t.id==e.label_id&&(t.check=!0)})}):"2"==t?this.welcome_all.forEach(function(t){e.welcome_own.forEach(function(e){t.id==e.id&&(t.check=!0)})}):"3"==t&&this.auto_reply_all.forEach(function(t){e.auto_reply_own.forEach(function(e){t.id==e.id&&(t.check=!0)})}),this.com_visible=!0,this.modalFlg=t},handleTagChange:function(t,e,n){var o=this;"1"==this.modalFlg?(t.check=n,this.$set(this.label_all,e,t)):"2"==this.modalFlg?(this.welcome_all.forEach(function(t){o.$set(t,"check",!1)}),this.$set(this.welcome_all[e],"check",n)):"3"==this.modalFlg&&(this.auto_reply_all.forEach(function(t){o.$set(t,"check",!1)}),this.$set(this.auto_reply_all[e],"check",n)),this.$forceUpdate()},handleTagOk:function(){var t=this;if("1"==this.modalFlg){var e=[];if(this.label_all.forEach(function(t){t.check&&e.push(t.id)}),0==e.length)return void this.$message.warning("请选择对应的标签");this.$axios({method:"POST",url:"/index.php?r=uc/customer/room-label-up",data:{roomId:this.id,labelIds:e}}).then(function(e){var n=e.data;1==n.status?(t.com_visible=!1,t.$message.success("设置标签成功"),t.getRoomDetails()):t.$message.warn(n.msg)})}else if("2"==this.modalFlg){var n=[];if(this.welcome_all.forEach(function(t){t.check&&n.push(t.id)}),0==n.length)return void this.$message.warning("请选择对应的欢迎语");this.$axios({method:"POST",url:"/index.php?r=uc/sale/bind-room",data:{roomIds:[this.id],welcomeId:n[0]}}).then(function(e){var n=e.data;1==n.status?(t.com_visible=!1,t.$message.success("设置欢迎语成功"),t.getRoomDetails()):t.$message.warn(n.msg)})}else if("3"==this.modalFlg){var o=[];if(this.auto_reply_all.forEach(function(t){t.check&&o.push(t.id)}),0==o.length)return void this.$message.warning("请选择对应的关键词");this.$axios({method:"POST",url:"/index.php?r=uc/sale/bind-room",data:{roomIds:[this.id],replyId:o[0]}}).then(function(e){var n=e.data;1==n.status?(t.com_visible=!1,t.$message.success("设置关键词成功"),t.getRoomDetails()):t.$message.warn(n.msg)})}},com_handleCancel:function(){this.com_visible=!1},addFriend:function(t){s.isOfflineRobot(this.room_owner,this.$store.state.user.offlineRobot)&&this.$store.commit("user/setRobotStatus","2");var e={cmd:2037,fromClientId:this.$store.state.user.user.user_id,toClientId:this.room_owner,cmdData:{username:t.username,roomId:this.room_wx_id,type:14,verMsg:""}};this.$ws.sendMsgFun(e)},deletefriend:function(t){var e=this;s.isOfflineRobot(this.room_owner,this.$store.state.user.offlineRobot)&&this.$store.commit("user/setRobotStatus","2");var n={cmd:2015,fromClientId:this.$store.state.user.user.user_id,toClientId:this.room_owner,cmdData:{username:this.room_wx_id,memberIds:[t.username]}};this.$ws.sendMsgFun(n),this.$ws.cmd2015=function(t){2==t.status?e.$message.success("已移除群聊"):4==t.status&&e.$notification.warning({message:function(e){return e("div",{domProps:{innerHTML:t.callbackMsg}})},description:"暂无法执行操作，请检查手机连接状态",duration:2,style:{background:"#fbf8e9"}})}},blackFriend:function(t){var e=this,n=void 0;n="0"==t.in_black_list?{department_id:this.department_id,nickname:t.nickname}:{department_id:this.department_id,nickname:t.nickname,del:"1"},this.$axios({method:"POST",url:"/index.php?r=uc/sale/black-list-update",data:n}).then(function(n){var o=n.data;1==o.status?("0"==t.in_black_list?t.in_black_list=1:t.in_black_list=0,e.$message.success("操作成功")):e.$message.warn(o.msg)})},imgExists:function(t){console.log("imgLoadError");var e=this.$store.state.user.user.default_url,n=new Image;n.onload=function(){(n.filesize>0||n.width>0&&n.height>0)&&(t.target.src=e,n=null)},n.src=e},getRoomDetails:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/customer/room-details",params:{roomId:this.id,department_id:this.department_id,user_id:this.user_id}}).then(function(e){var n=e.data;1==n.status?(t.room_name=n.data.room_name,t.qr_code=n.data.qr_code,t.created=n.data.created,t.RoomNotice={text:i.stringToHtml(n.data.RoomNotice)},t.label_all=n.data.label_all,t.label_own=n.data.label_own,t.welcome_all=n.data.welcome_all,t.welcome_own=n.data.welcome_own,t.auto_reply_all=n.data.auto_reply_all,t.auto_reply_own=n.data.auto_reply_own,t.room_owner=n.data.room_owner,t.room_wx_id=n.data.room_wx_id,t.assistant_nickname=n.data.assistant_nickname,t.is_expire_time=s.compareTime(n.data.qr_code_expire_time,s.formatDate(new Date))):t.$message.warn(n.msg)})},closeTag:function(t,e,n){var o=this;t.preventDefault(),this.$axios({method:"POST",url:"/index.php?r=uc/customer/room-label-del",data:{roomId:this.id,labelId:e.label_id}}).then(function(t){var e=t.data;1==e.status?(o.label_own.splice(n,1),o.$message.success("删除成功")):o.$message.warn(e.msg)})},closeWelcome:function(t,e,n){var o=this;t.preventDefault(),this.$axios({method:"POST",url:"/index.php?r=uc/customer/room-trusteeship-del",data:{room_id:this.id,welcome_id:e.id}}).then(function(t){var e=t.data;1==e.status?(o.welcome_own.splice(n,1),o.$message.success("删除成功")):o.$message.warn(e.msg)})},closeKeyWord:function(t,e,n){var o=this;t.preventDefault(),this.$axios({method:"POST",url:"/index.php?r=uc/customer/room-trusteeship-del",data:{room_id:this.id,auto_reply_id:e.id}}).then(function(t){var e=t.data;1==e.status?(o.auto_reply_own.splice(n,1),o.$message.success("删除成功")):o.$message.warn(e.msg)})},getRoomUser:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/customer/room-details-user",params:{roomId:this.id,p:this.page,n:this.page_size}}).then(function(e){var n=e.data;1==n.status?(t.room_user=n.data.room_user,t.total=parseInt(n.data.room_user_count)):t.$message.warn(n.msg)})},onChange:function(t,e){this.page=t,this.page_size=e,this.getRoomUser()},onShowSizeChange:function(t,e){this.page=1,this.page_size=e,this.getRoomUser()},roomQrcodeRefresh:function(){var t=this;this.$ws.cmd2020=null;var e={cmd:2020,fromClientId:this.$store.state.user.user.user_id,toClientId:this.room_owner,cmdData:{username:this.room_wx_id},priority:0};s.isOfflineRobot(this.room_owner,this.$store.state.user.offlineRobot)&&this.$store.commit("user/setRobotStatus","2"),this.$ws.sendMsgFun(e),this.$ws.cmd2020=function(e){"成功"==e.callbackMsg?t.getRoomDetails():4==e.status&&t.$notification.warning({message:function(t){return t("div",{domProps:{innerHTML:e.callbackMsg}})},description:"暂无法执行操作，请检查手机连接状态",duration:2,style:{background:"#fbf8e9"}})}},showEmoji:function(){this.$store.commit("liveChat/setEmojiFlag",!this.emojiFlag)},closeEmoji:function(){this.$store.commit("liveChat/setEmojiFlag",!1)},emojiAdd:function(t){document.getElementById("groupNotice").focus();var e="<img src='static/img_file/emojiBG.png' class= '"+t.currentTarget.classList.value+"' title_name='"+t.currentTarget.attributes.title_name.nodeValue+"'>";this.emojiAddInPosition(e),this.$refs.groupNotice.changeTxt()},emojiAddInPosition:function(t,e){var n=void 0,o=void 0;if(e||this.getRange(),window.getSelection){!e&&this.range?(n=this.sel,o=this.range):(n=window.getSelection(),o=n.getRangeAt(0)),o.deleteContents(),n=window.getSelection();var a=void 0,i=void 0;if(o.createContextualFragment)a=o.createContextualFragment(t);else{var s=document.createElement("div");for(s.innerHTML=t,a=document.createDocumentFragment();i=s.firstChild;)a.appendChild(i)}var r=a.lastChild;o.insertNode(a),o.setStartAfter(r),n.removeAllRanges(),n.addRange(o);var c=document.getElementById("groupNotice"),l=r.offsetTop-55+r.offsetHeight-c.offsetHeight;c.scrollTop<l&&(c.scrollTop=l)}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(t)},getSel:function(){window.getSelection?(this.sel=window.getSelection(),this.range=this.sel.getRangeAt(0)):this.range=document.selection.createRange()},getRange:function(){this.range?window.getSelection?(this.sel.removeAllRanges(),this.sel.addRange(this.range)):this.range.select():this.setRange()},setRange:function(){var t,e,n=document.getElementById("groupNotice");document.createRange?(t=document.createRange(),t.selectNodeContents(n),t.collapse(!1),e=window.getSelection(),e.removeAllRanges(),e.addRange(t)):document.selection&&(t=document.body.createTextRange(),t.moveToElementText(n),t.collapse(!1),t.select())}},created:function(){var t=this;this.getRoomDetails(),this.getRoomUser(),this.$ws.cmd2037=function(e){2==e.status?t.$message.info(e.callbackMsg):4==e.status&&t.$notification.warning({message:function(t){return t("div",{domProps:{innerHTML:e.callbackMsg}})},description:"暂无法执行操作，请检查手机连接状态",duration:2,style:{background:"#fbf8e9"}})}},beforeDestroy:function(){this.$ws.cmd2015=null,this.$ws.cmd2018=null,this.$ws.cmd2020=null,this.$ws.cmd2021=null,this.$ws.cmd2037=null}}},1706:function(t,e,n){e=t.exports=n(15)(!1),e.push([t.i,"\n.room_notice_width .ant-form-item-control-wrapper {\n    width: calc(100% - 80px);\n}\n.room_notice_width p img {\n    vertical-align: middle;\n}\n",""])},1707:function(t,e,n){e=t.exports=n(15)(!1),e.push([t.i,'\n.customer-list[data-v-30ca8bc6] {\n  height: calc(100vh - 90px);\n  overflow-y: auto;\n}\n.customer-list .header[data-v-30ca8bc6] {\n  padding: 20px;\n}\n.customer-list .content[data-v-30ca8bc6] {\n  padding: 0 20px;\n}\n.fl[data-v-30ca8bc6] {\n  float: left;\n}\n.fr[data-v-30ca8bc6] {\n  float: right;\n}\n.clr[data-v-30ca8bc6]:after {\n  display: block;\n  height: 0;\n  content: "";\n  visibility: hidden;\n  clear: both;\n}\n.headNav[data-v-30ca8bc6] {\n  padding: 10px 20px;\n  height: 70px;\n  line-height: 50px;\n  background: #fff;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n.groupMsg[data-v-30ca8bc6] {\n  /* height: 260px; */\n  margin-top: 10px;\n  padding: 10px 20px;\n  background: #fff;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n.groupMsg-fn[data-v-30ca8bc6] {\n  height: 50px;\n  line-height: 50px;\n  border-bottom: 1px dashed #ccc;\n}\n.groupMsg-fn[data-v-30ca8bc6]:nth-child(2) {\n  border: 1px solid #000;\n}\n.groupMsg-content[data-v-30ca8bc6] {\n  padding-top: 20px;\n  padding-left: 20px;\n}\n.tipFlg[data-v-30ca8bc6] {\n  /* width:120px; */\n  padding: 0 10px;\n  height: 30px;\n  line-height: 30px;\n  background: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  top: -4px;\n  left: 100px;\n  border-radius: 6px;\n  color: #fff;\n  text-align: center;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n.edit[data-v-30ca8bc6],\n.edit_notice[data-v-30ca8bc6] {\n  cursor: pointer;\n  font-size: 18px;\n  margin-left: 10px;\n}\n.edit_notice[data-v-30ca8bc6] {\n  margin-top: 10px;\n}\n.atrUrlImg[data-v-30ca8bc6] {\n  width: 50px;\n  height: 50px;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n.groupNotic[data-v-30ca8bc6] {\n  width: 330px;\n}\n.groupNoticOther[data-v-30ca8bc6] {\n  border: 1px solid #40a9ff;\n  padding: 2px;\n  border-radius: 10px;\n}\n@media all and (max-width: 1024px) {\n.atrUrlImg[data-v-30ca8bc6] {\n    color: #f00;\n}\n.groupNotic[data-v-30ca8bc6] {\n    width: 170px;\n}\n}\n.tag[data-v-30ca8bc6] {\n  border: 1px solid #40a9ff;\n  border-radius: 2px;\n  padding: 4px;\n  margin-right: 2px;\n  /* height:20px;\n    line-height:20px; */\n}\n.tag-close[data-v-30ca8bc6] {\n  color: #40a9ff;\n  cursor: pointer;\n}\n.ant-input-disabled[data-v-30ca8bc6] {\n  background: #fff;\n  border: 1px solid #fff;\n  color: #000;\n}\n.goGrouptext[data-v-30ca8bc6] {\n  text-decoration: none;\n}\n.tag-modal .ant-tag[data-v-30ca8bc6]:hover {\n  background: #5AA9CD;\n  color: #ffffff;\n}\n.tag-modal .ant-tag-checkable[data-v-30ca8bc6] {\n  border: 1px solid #d9d9d9;\n  background: #fafafa;\n}\n.tag-modal .ant-tag-checkable-checked[data-v-30ca8bc6] {\n  background: #5AA9CD;\n}\n.ant-tag[data-v-30ca8bc6]:hover {\n  background: #5AA9CD;\n  color: #ffffff;\n  opacity: 1;\n}\n.input-content1[data-v-30ca8bc6] {\n  padding: 0 0 10px 0;\n  width: 100%;\n  border-top: none;\n}\n.input-content1 .tools[data-v-30ca8bc6] {\n  position: absolute;\n  bottom: -14px;\n  left: -10px;\n  display: flex;\n}\n.input-content1 .tools > div[data-v-30ca8bc6] {\n  padding: 0 10px;\n  cursor: pointer;\n}\n.input-content1 .tools > div .anticon svg[data-v-30ca8bc6] {\n  font-size: 20px;\n}\n.input-content1 .tools > div #emoji[data-v-30ca8bc6] {\n  position: absolute;\n  top: -165px;\n  width: 390px;\n  height: 155px;\n  left: 0;\n  border: 1px solid #cccccc;\n  padding: 5px;\n  z-index: 10;\n  line-height: 1;\n  background: #ffffff;\n  box-shadow: 0px 1px 10px 3px #ccc;\n}\n.input-content1 .tools > div #emoji[data-v-30ca8bc6]::after {\n  margin-top: -1px;\n  border: 7px solid transparent;\n  border-top-color: #fff;\n  content: "";\n  position: absolute;\n  left: 16px;\n  top: 100%;\n  margin-left: -5px;\n}\n.input-content1 .input-content-area[data-v-30ca8bc6] {\n  word-wrap: break-word;\n  white-space: normal;\n  width: 100%;\n}\n.input-content1 .input-content-area #groupNotice[data-v-30ca8bc6] {\n  border: 1px solid #ccc;\n}\n.input-content1 .input-content-area #emoji[data-v-30ca8bc6] {\n  position: absolute;\n  top: -160px;\n  width: 390px;\n  height: 155px;\n  left: 0;\n  border: 1px solid #cccccc;\n  padding: 5px;\n  z-index: 10;\n  line-height: 1;\n  background: #ffffff;\n}\n',""])},2101:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"customer-list"},[o("div",[o("a-button",{attrs:{type:"default",icon:"left"},on:{click:t.goBack}},[t._v("返回")])],1),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"headNav"},[o("div",{staticStyle:{display:"inline-block"}},[o("img",{staticStyle:{width:"48px",height:"48px","border-radius":"5px","margin-right":"25px"},attrs:{src:n(1278)},on:{error:function(e){return t.imgExists(e)}}}),t._v(" "),t.inptFlg?o("a-input",{staticStyle:{width:"200px"},attrs:{length:"10"},on:{blur:t.titleShow,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeRoomName(e)}},model:{value:t.roomName_Notice,callback:function(e){t.roomName_Notice=e},expression:"roomName_Notice"}}):t._e(),t._v(" "),t.inptFlg?o("a-button",{staticStyle:{"margin-left":"6px"},attrs:{type:"primary"},on:{click:function(e){return t.changeRoomName()}}},[t._v("保存")]):t._e(),t._v(" "),t.inptFlg?t._e():o("span",[t._v(t._s(t.room_name)+" "),o("a-icon",{staticClass:"edit",attrs:{type:"edit",size:"18"},on:{click:t.changeText}})],1)],1),t._v(" "),o("div",{staticStyle:{display:"inline-block",float:"right"}},[o("span",[t._v("所属："+t._s(t.$store.state.user.user.department.name))]),t._v(" "),o("span",{staticStyle:{padding:"0 10px 0 50px"}},[t._v("建群时间："+t._s(t.created))])])]),t._v(" "),o("a-form",{attrs:{layout:"inline",form:t.form}},[o("div",{staticClass:"groupMsg"},[o("div",{staticClass:"groupMsg-fn clr"},[o("span",{staticClass:"fl"},[t._v("群信息")]),t._v(" "),t.grpMsgFlg?t._e():o("a-button",{staticClass:"fr",staticStyle:{"margin-top":"6px"},attrs:{type:"primary"},on:{click:function(e){return t.editGroupMsg()}}},[t._v("编辑")]),t._v(" "),t.grpMsgFlg?o("a-button",{staticClass:"fr",staticStyle:{"margin-top":"6px"},attrs:{type:"primary"},on:{click:function(e){return t.saveGroup()}}},[t._v("保存")]):t._e()],1),t._v(" "),o("div",{staticClass:"groupMsg-content"},[o("a-row",[o("a-col",{attrs:{span:"12"}},[o("a-form-item",{staticStyle:{display:"block"},attrs:{label:"群主"}},[t._v("\n                            "+t._s(t.assistant_nickname)+"\n                        ")]),t._v(" "),o("a-form-item",{staticClass:"clr",attrs:{label:"群标签"}},[t._l(t.label_own,function(e,n){return o("a-tag",{key:n,class:["tag-color"+e.color_id],staticStyle:{"margin-bottom":"10px"},attrs:{closable:!0},on:{close:function(o){return t.closeTag(o,e,n)}}},[t._v(t._s(e.label_name))])}),t._v(" "),o("a-tag",{on:{click:function(e){return t.addTag("1")}}},[t._v("添加"),o("a-icon",{staticStyle:{"margin-right":"2px"},attrs:{type:"plus"}})],1)],2)],1),t._v(" "),o("a-col",{attrs:{span:"8"}},[o("a-form-item",{staticClass:"room_notice_width",staticStyle:{width:"100%"},attrs:{label:"群公告",icon:"edit"}},[o("div",{staticClass:"clr"},[t.grpMsgFlg?t._e():o("p",{staticStyle:{"max-height":"100px",overflow:"auto"},domProps:{innerHTML:t._s(t.RoomNotice.text)}}),t._v(" "),o("div",{staticClass:"input-content1",style:{position:"relative",visibility:t.grpMsgFlg?"visible":"hidden",height:t.grpMsgFlg?"auto":"0"}},[o("div",{staticClass:"tools"},[o("div",[o("a-icon",{attrs:{type:"smile",id:"showEmoji"},on:{click:function(e){return t.showEmoji()}}}),t._v(" "),t.emojiFlag?o("div",{attrs:{id:"emoji"}},t._l(t.emojiList,function(e,n){return o("a",{staticClass:"qqemoji",class:e.className,staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;",title_name:e.title},on:{click:function(e){return t.emojiAdd(e)}}})}),0):t._e()],1)]),t._v(" "),o("div",{staticClass:"input-content-area"},[o("div-edit-area",{ref:"groupNotice",staticStyle:{height:"70px","min-height":"auto"},attrs:{id:"groupNotice",formItem:t.RoomNotice},on:{change:function(e){return t.getSel()}}})],1)])])])],1),t._v(" "),o("a-col",{attrs:{span:"4"}},[o("a-form-item",{attrs:{label:"群码"}},[o("div",{staticStyle:{width:"100px",height:"100px",display:"inline-block","vertical-align":"top","margin-right":"5px","border-radius":"8px",position:"relative"}},[o("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.qr_code,alt:""}}),t._v(" "),t.is_expire_time?t._e():o("div",{staticStyle:{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",background:"rgba(0,0,0,0.4)","z-index":"10"}},[o("div",{staticStyle:{width:"24px",height:"24px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","z-index":"11",background:"#ffffff",cursor:"pointer"},on:{click:function(e){return t.roomQrcodeRefresh()}}},[o("a-icon",{staticStyle:{"font-size":"20px",color:"#000000",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},attrs:{type:"reload"}})],1)])])])],1)],1)],1)]),t._v(" "),o("div",{staticClass:"groupMsg"},[o("div",{staticClass:"groupMsg-fn"},[o("span",[t._v("托管信息")])]),t._v(" "),o("div",{staticClass:"groupMsg-content"},[o("a-row",[o("a-col",{attrs:{span:"24"}},[o("a-form-item",{attrs:{label:"欢迎语"}},[t._l(t.welcome_own,function(e,n){return o("a-tag",{key:n,staticStyle:{"margin-bottom":"10px"},attrs:{closable:!0},on:{close:function(o){return t.closeWelcome(o,e,n)}}},[t._v(t._s(e.name))])}),t._v(" "),o("a-tag",{staticStyle:{padding:"0 20px"},on:{click:function(e){return t.addTag("2")}}},[t._v(t._s("0"==t.welcome_own.length?"添加":"更改"))])],2)],1)],1),t._v(" "),o("a-row",[o("a-col",{attrs:{span:"24"}},[o("a-form-item",{staticStyle:{display:"block"},attrs:{label:"关键词回复"}},[t._l(t.auto_reply_own,function(e,n){return o("a-tag",{key:n,staticStyle:{"margin-bottom":"10px"},attrs:{closable:!0},on:{close:function(o){return t.closeKeyWord(o,e,n)}}},[t._v(t._s(e.class_name))])}),t._v(" "),o("a-tag",{staticStyle:{padding:"0 20px"},on:{click:function(e){return t.addTag("3")}}},[t._v(t._s("0"==t.auto_reply_own.length?"添加":"更改"))])],2)],1)],1)],1)])]),t._v(" "),o("div",{staticStyle:{"margin-bottom":"4px",background:"#fff","margin-top":"10px"}},[o("div",[o("a-table",{attrs:{filterMultiple:"true",type:"checkbox ",columns:t.columns,dataSource:t.room_user,pagination:!1},scopedSlots:t._u([{key:"header_img_url",fn:function(e,n,a){return[o("div",[o("img",{staticStyle:{width:"48px",height:"48px","border-radius":"5px"},attrs:{src:e},on:{error:function(e){return t.imgExists(e)}}})])]}},{key:"avatar_type",fn:function(e,n,a){return[o("div",{staticStyle:{position:"relative"}},[o("a-tooltip",{attrs:{placement:"right"}},[o("template",{slot:"title"},[o("a-avatar",{staticStyle:{"vertical-align":"middle"},attrs:{size:30,src:n.inviter_id.header_img_url}}),t._v(" "),o("span",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[t._v(t._s(n.inviter_id.nickname))])],1),t._v(" "),o("a",{staticClass:"goGrouptext",attrs:{href:"javascript:;"}},[t._v("\n                                "+t._s(n.inviter_text)+"\n                            ")])],2)],1)]}},{key:"action",fn:function(e,n,a){return["2"==n.role&&t.room_owner!=n.username&&"-1"==n.username.indexOf("@openim")?o("a-popconfirm",{attrs:{title:"你确定要添加吗？",placement:"top",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.addFriend(n)}}},[o("a",{staticStyle:{"padding-right":"15px"},attrs:{href:"javascript:void(0);"}},[t._v("添加好友")])]):t._e(),t._v(" "),t.room_owner!=n.username?o("a-popconfirm",{attrs:{title:"1"==n.in_black_list?"你确定要移除黑名单吗？":"你确定要加入黑名单吗？",placement:"top",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.blackFriend(n)}}},[o("a",{staticStyle:{"padding-right":"15px"},attrs:{href:"javascript:void(0);"}},["1"==n.in_black_list?o("span",{staticStyle:{color:"rgba(242, 126, 117, 1)"}},[t._v("移除黑名单")]):t._e(),t._v(" "),"0"==n.in_black_list?o("span",{staticStyle:{color:"rgba(89, 88, 88, 1)"}},[t._v("加入黑名单")]):t._e()])]):t._e(),t._v(" "),t.room_owner!=n.username?o("a-popconfirm",{attrs:{title:"你确定要踢出吗？",placement:"top",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.deletefriend(n)}}},[o("a",{staticStyle:{"padding-right":"15px",color:"rgba(89, 88, 88, 1)"},attrs:{href:"javascript:void(0);"}},[t._v("踢出")])]):t._e()]}}])}),t._v(" "),o("br"),t._v(" "),o("a-pagination",{staticStyle:{"text-align":"right"},attrs:{showQuickJumper:"",showSizeChanger:"",showTotal:function(t){return"总共"+t+"条"},pageSize:t.page_size,total:t.total,pageSizeOptions:["10","20","30","40","50"]},on:{change:t.onChange,showSizeChange:t.onShowSizeChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),t._v(" "),o("br")],1)]),t._v(" "),o("a-modal",{staticStyle:{"padding-bottom":"20px"},attrs:{title:"1"===t.modalFlg?"选择标签":"2"===t.modalFlg?"选择欢迎语":"选择关键词",visible:t.com_visible,width:"50%"},on:{ok:t.handleTagOk,cancel:t.com_handleCancel}},[o("div",{staticClass:"tag-modal"},t._l("1"===t.modalFlg?t.label_all:"2"===t.modalFlg?t.welcome_all:t.auto_reply_all,function(e,n){return o("a-checkable-tag",{key:n,class:["tag-color"+e.color_id],attrs:{checked:e.check},on:{change:function(o){return t.handleTagChange(e,n,o)}}},[t._v("\n                "+t._s("1"===t.modalFlg?e.title:"2"===t.modalFlg?e.name:e.class_name)+"\n            ")])}),1)])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2187:function(t,e,n){var o=n(1706);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(16)("4c2a1ca0",o,!1)},2188:function(t,e,n){var o=n(1707);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n(16)("6f75e7fc",o,!1)}});