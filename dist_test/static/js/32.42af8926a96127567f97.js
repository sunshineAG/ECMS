webpackJsonp([32],{1247:function(t,e,a){a(2221);var n=a(20)(a(1654),a(2124),"data-v-66629716",null);n.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\view\\systemManage\\robotManage.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] robotManage.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},1252:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"},1253:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"dataStatus",props:["width","height","material"],components:{},data:function(){return{}}}},1254:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.imgBg[data-v-6c09838e]{\n    opacity:1;\n    text-align:center;\n    position:relative;\n}\n.text[data-v-6c09838e]{\n    position:absolute;\n    left:50%;\n    bottom:44px;\n    color:#ccc;\n    transform: translateX(-50%);\n}\n.matText[data-v-6c09838e]{\n    position:absolute;\n    left:50%;\n    bottom:86px;\n    color:#00000073;\n    transform: translateX(-50%);\n}\n",""])},1255:function(t,e,a){a(1257);var n=a(20)(a(1253),a(1256),"data-v-6c09838e",null);n.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\components\\pageConfig\\dataStatus.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] dataStatus.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},1256:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"imgBg"},[n("svg",{staticStyle:{"text-align":"center"},attrs:{width:t.width,height:t.height}},[n("image",{attrs:{"xlink:href":a(1252),width:"100%"}})]),t._v(" "),t.material?t._e():n("span",{staticClass:"text"},[t._v("暂无数据")]),t._v(" "),t.material?n("span",{staticClass:"matText"},[t._v("暂不支持")]):t._e()])},staticRenderFns:[]},t.exports.render._withStripped=!0},1257:function(t,e,a){var n=a(1254);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(16)("4232382d",n,!1)},1654:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=a(4),o=a.n(i),s=a(137),r=a.n(s),l=a(1255),d=a.n(l),c=(a(32),a(93));e.default={name:"robotManage",components:{dataStatus:d.a},data:function(){return{form:this.$form.createForm(this),robotStatus:{},tagel:0,collocation_visible:!1,robotList:[],departmentList:[],managerList:[],robot_detail_robot:{},robot_detail_label:[],robot_detail_welcome:[],robot_detail_reply:[],searchKey:"",userId:"",loading:!0,selectIndex:0,selectedRowKeys:[],replyList:[],welcomeList:[],locale:{filterConfirm:"",filterReset:"",emptyText:""},columns:[{title:"编号",align:"center",width:50,dataIndex:"mobile_serial_name"},{title:"微信号",align:"left",width:100,dataIndex:"avatar_url",scopedSlots:{customRender:"avatar_url"}},{title:"所属部门",align:"left",width:100,dataIndex:"department"},{title:"所属用户",align:"left",width:100,dataIndex:"user",scopedSlots:{customRender:"user"}},{title:"心跳状态",align:"center",width:100,dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"App版本",align:"center",width:100,dataIndex:"vision"},{title:"操作",dataIndex:"action",align:"center",width:140,scopedSlots:{customRender:"action"}}],bindVisible:!1,bindQrcode:"",urlCode:"",queryParam:{user_id:"",key:"",department_id:"",type:"0"},assignParam:{user_id:"",department_id:""},assignDepartmentList:[],assignManageList:[],page_size:10,page:1,total:0,sheight:"",heightFlg:!1,modalLoading:!1,assignRecord:"",visible:!1,logTitle:"",logVisible:!1,logType:"2",logAssistantId:"",logList:[],logColumns:[{title:"时间",align:"left",dataIndex:"created"},{title:"连接状态",align:"center",dataIndex:"status",scopedSlots:{customRender:"status"}}],logListPage:1,logListScrollFlag:!1}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route),window.addEventListener("resize",this.autoHeight,!1)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},computed:{departmentID:function(){return this.$store.state.user.user.department.id}},watch:{robotList:function(){var t=""+document.documentElement.clientHeight,e=this.$refs.header.offsetHeight+126;this.$nextTick(function(){t-e<=this.$refs.table.$el.offsetHeight+40?(this.heightFlg=!0,this.sheight=t-e-this.$refs.header.offsetHeight+45):this.heightFlg=!1})}},methods:(n={autoHeight:function(){var t=this,e=c.autoHeight(t.$refs.header,t.$refs.table);e&&(t.sheight=e.sheight?e.sheight-t.$refs.header.offsetHeight+15:"",t.heightFlg=e.heightFlg)},onSelectChange:function(t){this.selectedRowKeys=t},collocationAll:function(){var t=this;if(0==this.selectedRowKeys.length)return void this.$message.warning("请选择对应的机器人");this.welcomeList.forEach(function(e){t.$set(e,"check",!1)}),this.replyList.forEach(function(e){t.$set(e,"check",!1)}),this.getWelcomeList(),this.getReplyList(),this.collocation_visible=!0},handleTagChange:function(t,e,a,n){var i=this;"1"==n?(this.welcomeList.forEach(function(t){i.$set(t,"check",!1)}),this.$set(this.welcomeList[e],"check",a)):"2"==n&&(this.replyList.forEach(function(t){i.$set(t,"check",!1)}),this.$set(this.replyList[e],"check",a))},getWelcomeList:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/sale/welcome-list",params:{departmentId:this.$store.state.user.user.department.id,all:"1",type:"10"}}).then(function(e){var a=e.data;if(1==a.status&&(t.welcomeList=a.data.list,1==t.selectedRowKeys.length)){var n="";t.robotList.forEach(function(e){e.id==t.selectedRowKeys[0]&&(n=e.welcome.list[0].id)}),t.welcomeList.forEach(function(e){e.id==n&&t.$set(e,"check",!0)})}})},getReplyList:function(){var t=this;this.$axios({method:"GET",url:"/index.php?r=uc/sale/reply-list",params:{departmentId:this.$store.state.user.user.department.id,all:"1"}}).then(function(e){var a=e.data;if(1==a.status&&(t.replyList=a.data.list,1==t.selectedRowKeys.length)){var n="";t.robotList.forEach(function(e){e.id==t.selectedRowKeys[0]&&(n=e.auto_reply.list[0].id)}),t.replyList.forEach(function(e){e.id==n&&t.$set(e,"check",!0)}),t.$forceUpdate()}})},handleTagOk:function(){var t=this,e=[],a=[];this.welcomeList.forEach(function(t){t.check&&e.push(t.id)}),this.replyList.forEach(function(t){t.check&&a.push(t.id)}),this.$axios({method:"POST",url:"/index.php?r=uc/sale/bind-room",data:{assistantId:this.selectedRowKeys,welcomeId:e[0],replyId:a[0],type:"1"}}).then(function(e){1==e.data.status&&(t.collocation_visible=!1,t.$message.success("设置成功"),t.refreshGroup())})},deposit:function(t,e){var a=this;t.stopPropagation(),this.$axios({method:"POST",url:"/index.php?r=uc/system/assistant-switch",data:{assistantId:e.id,status:"1"==e.hosting?"10":"0"}}).then(function(t){1==t.data.status&&a.$set(e,"hosting","1"==e.hosting?"0":"1")})},voiceRecording:function(t,e){var a=e.tel_button?1:0,n=this,i={cmd:2064,fromClientId:this.$store.state.user.user.user_id,toClientId:e.username,cmdData:{state:a}};this.$ws.sendMsgFun(i),this.$ws.cmd2064=function(t){3===t.status&&n.refreshGroup()}},handleLabelChange:function(t){console.log(t),this.userId=t},upList:function(){this.loading=!0,this.refreshGroup()},com_handleCancel:function(){this.com_visible=!1},onSearch:function(t){this.searchKey=t,this.refreshGroup()},edit:function(t){this.$router.push({path:"/systemManage/editRobot",query:{id:t}})},upInfo:function(t){var e=t.username;0==t.sync?(this.$ws.sendMsgFun({cmd:2997,fromClientId:this.$store.state.user.user.user_id,toClientId:e}),this.$set(t,"sync",1)):this.$message.warn("好友列表和群列表30分钟内只能同步一次")},getRobotInfo:function(t,e){this.selectIndex=e;var a=this;this.$axios({method:"POST",url:"/index.php?r=uc/system/robot-detail",data:r()({},{robot_id:t})}).then(function(t){var e=t.data;1==e.status&&(a.robot_detail_robot=e.data.robot,a.robot_detail_robot.avatar_url=a.robot_detail_robot.avatar_url||"http://roomfission.youdd.wang/Ecms_16_1553074374.jpg",a.robot_detail_label=e.data.robotLabel,a.robot_detail_welcome=e.data.welcome.list,a.robot_detail_reply=e.data.auto_reply.list)})},refreshGroup:function(){var t=this;this.$axios({method:"POST",url:"/index.php?r=uc/system/robot",data:r()({p:this.page,n:this.page_size},this.queryParam)}).then(function(e){var a=e.data;1==a.status&&(t.robotList=a.data.robotList,t.total=parseInt(a.data.robotStatus.total),t.robotList.forEach(function(t){t.tel_button="1"==t.tel_button}),t.bindQrcode=a.data.qrcode_url,t.urlCode=a.data.apk_url,t.loading=!1)})},customRow:function(t,e){var a=this;return{props:{},style:{background:this.selectIndex==e?"#e6f7ff":"#ffffff"},on:{click:function(){a.getRobotInfo(t.id,e)}}}},imgExists:function(t){var e=this.$store.state.user.user.default_url,a=new Image;a.onload=function(){(a.filesize>0||a.width>0&&a.height>0)&&(t.target.src=e,a=null)},a.src=e},bindAuth:function(){this.bindVisible=!0},bindUrl:function(){var t=this;this.$axios({method:"POST",url:"/index.php?r=uc/system/apk"}).then(function(e){var a=e.data;1==a.status&&(t.bindQrcode=a.data.qrcode_url,t.urlCode=a.data.apk_url)})},getDepartment:function(){var t=this;this.$axios({method:"get",url:"/index.php?r=uc/user/all-department"}).then(function(e){var a=e.data;1==a.status&&(t.assignDepartmentList=[].concat(a.data.departmentList),t.departmentList=a.data.departmentList,t.departmentList.unshift({id:"0",name:"全部"}),t.queryParam.department_id="0",t.getUserList())})},getUserList:function(){var t=this;this.$axios({method:"post",url:"/index.php?r=uc/user/all-user",data:{department_id:this.queryParam.department_id}}).then(function(e){var a=e.data;1==a.status&&(t.managerList=a.data,t.managerList.unshift({id:"0",user_name:"全部"}),t.queryParam.user_id="0",t.refreshGroup())})},onSelect:function(t){this.page=1,this.page_size=10,this.queryParam.department_id=t,this.getUserList()},managerChange:function(t){this.queryParam.user_id=t,this.page=1,this.page_size=10,this.refreshGroup()},selectRaio:function(){this.page=1,this.page_size=10,this.refreshGroup()},search:function(){this.page=1,this.page_size=10,this.refreshGroup()},onChange:function(t,e){this.page=t,this.page_size=e,this.refreshGroup()},onShowSizeChange:function(t,e){this.page=1,this.page_size=e,this.refreshGroup()},assign:function(t){this.assignParam.department_id=t.department_id||this.assignDepartmentList[0].id,this.assignRecord=t,this.getAssignUserList(t),this.visible=!0},assignSelect:function(t){this.assignParam.department_id=t,this.getAssignUserList()},getAssignUserList:function(t){var e=this;this.$axios({method:"post",url:"/index.php?r=uc/user/all-user",data:{department_id:this.assignParam.department_id}}).then(function(a){var n=a.data;if(1==n.status)if(e.assignManageList=n.data,t&&t.user_id)e.assignParam.user_id=t.user_id;else{var i="";e.assignManageList.forEach(function(t){t.id===e.$store.state.user.user.user_id&&(i=e.$store.state.user.user.user_id)}),i?e.assignParam.user_id=i:e.assignManageList[0]&&e.assignManageList[0].id?e.assignParam.user_id=e.assignManageList[0].id:e.assignManageList.unshift({id:"0",user_name:"无匹配结果"})&&(e.assignParam.user_id="0")}})}},o()(n,"com_handleCancel",function(){this.visible=!1,this.assignParam={ecms_userid:"",department_id:""}}),o()(n,"com_handleOk",function(){var t=this;this.modalLoading=!0,this.$axios({method:"POST",url:"/index.php?r=uc/system/bind-assistant",data:{assistant_id:this.assignRecord.id,user_id:this.assignParam.user_id,department_id:this.assignParam.department_id,status:"10"}}).then(function(e){t.modalLoading=!1,1==e.data.status&&(t.visible=!1,t.$message.success("分配成功"),t.$ws.sendMsgFun({cmd:2066,fromClientId:t.$store.state.user.user.user_id,toClientId:t.assignRecord.username,cmdData:{type:2},priority:0}),t.refreshGroup())}).catch(function(e){t.modalLoading=!1})}),o()(n,"showLog",function(t){var e=this;this.logTitle="日志-("+t.nickname+")",this.logVisible=!0,this.logType="2",this.logAssistantId=t.id,this.logListPage=1,this.logListScrollFlag=!1,this.getRobotLog(),setTimeout(function(t){e.$refs.logListContent.addEventListener("scroll",function(){e.$refs.logListContent.scrollHeight-e.$refs.logListContent.offsetHeight-e.$refs.logListContent.scrollTop<10&&!e.logListScrollFlag&&e.getMoreRobotLog()},!1),e.$refs.logListContent.scrollTop=0},0)}),o()(n,"logTypeChange",function(){this.logListPage=1,this.logListScrollFlag=!1,this.$refs.logListContent.scrollTop=0,this.getRobotLog()}),o()(n,"getRobotLog",function(){var t=this;this.$axios({method:"POST",url:"/index.php?r=uc/system/robot-log",data:{robot_id:this.logAssistantId,type:this.logType,p:this.logListPage,n:20}}).then(function(e){var a=e.data;1==a.status&&(t.logList=a.data.list)})}),o()(n,"getMoreRobotLog",function(){var t=this,e=this;this.logListScrollFlag||(this.logListScrollFlag=!0,this.logListPage+=1,this.$axios({method:"post",url:"/index.php?r=uc/system/robot-log",data:{robot_id:this.logAssistantId,type:this.logType,p:this.logListPage,n:20}}).then(function(a){var n=a.data;if(1===n.status){if(0==n.data.list.length)return void setTimeout(function(){e.logListScrollFlag=!0},0);t.logList=t.logList.concat(n.data.list),t.$forceUpdate(),setTimeout(function(){e.logListScrollFlag=!1},0)}}))}),o()(n,"del",function(t){var e=this;this.$axios({method:"POST",url:"/index.php?r=uc/system/bind-assistant",data:{assistant_id:t.id,status:"30"}}).then(function(a){1==a.data.status&&(e.$ws.sendMsgFun({cmd:2066,fromClientId:e.$store.state.user.user.user_id,toClientId:t.username,cmdData:{type:1},priority:0}),e.refreshGroup())})}),n),created:function(){var t=this;this.getDepartment(),this.$ws.cmd2997=function(e){2==e.status&&t.$message.success("开始同步，由于数据量过大，请稍候")}},beforeDestroy:function(){this.$ws.cmd2997=null,window.removeEventListener("resize",this.autoHeight,!1)}}},1740:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.stausPage[data-v-66629716] {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 99999;\n  transform: translate(-40%, -50%);\n}\n.background-color[data-v-66629716] {\n  height: calc(100vh - 90px);\n  overflow-y: auto;\n  background: #fff;\n}\nimg[data-v-66629716] {\n  height: 100%;\n  width: 100%;\n}\n.up_loading[data-v-66629716] {\n  width: 200px;\n  height: 200px;\n}\n.tag[data-v-66629716] {\n  border: 1px solid #40a9ff;\n  border-radius: 2px;\n  padding: 4px;\n  margin-right: 2px;\n  /* height:20px;\n    line-height:20px; */\n}\n.tag-close[data-v-66629716] {\n  color: #40a9ff;\n  cursor: pointer;\n}\n.tagTitle[data-v-66629716] {\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  border-bottom: 1px dashed #ccc;\n  background: #fff;\n}\n.welMsg[data-v-66629716] {\n  margin-bottom: 10px;\n}\n.robot_detail[data-v-66629716] {\n  padding-top: 10px;\n}\n.robot_detail .label[data-v-66629716] {\n  color: #101010;\n}\n.robot_detail .handler .title[data-v-66629716] {\n  color: #101010;\n  text-align: left;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 25px;\n  margin-bottom: 10px;\n}\n.robot_detail .card[data-v-66629716] {\n  margin-top: 30px;\n  background: #fff;\n  padding: 10px;\n  border: 1px solid #e7e7e7;\n  box-shadow: 0px 4px 10px -11px #222222;\n  border-radius: 10px;\n}\n.robot_detail .card .head_pic[data-v-66629716] {\n  padding-bottom: 10px;\n}\n.robot_detail .card .head_pic .h_text[data-v-66629716] {\n  width: 50%;\n}\n.robot_detail .card .head_pic .h_text span[data-v-66629716] {\n  vertical-align: middle;\n}\n.robot_detail .card .head_pic .h_text .img[data-v-66629716] {\n  display: inline-block;\n  height: 35px;\n  width: 35px;\n  border-radius: 35px;\n}\n.robot_detail .card .head_pic .h_text .img img[data-v-66629716] {\n  border-radius: 50%;\n}\n.robot_detail .card .head_pic .avatar[data-v-66629716] {\n  width: 50%;\n  text-align: right;\n}\n.robot_detail .card .head_pic .avatar .img[data-v-66629716] {\n  display: inline-block;\n  height: 30px;\n  width: 30px;\n  cursor: pointer;\n}\n.robot_detail .card .card_dec[data-v-66629716] {\n  padding-bottom: 10px;\n}\n.robot_detail .card .card_dec .label_btn[data-v-66629716] {\n  padding: 5px 10px;\n  display: inline-block;\n  color: #a6aaae;\n  background-color: #f3f3f3;\n  margin-bottom: 5px;\n  border-radius: 5px;\n}\n.robot_detail .info_box[data-v-66629716] {\n  margin-top: 30px;\n  background: #fff;\n  padding: 10px;\n  border: 1px solid #e7e7e7;\n  box-shadow: 0px 4px 10px -11px #222222;\n  border-radius: 10px;\n}\n.robot_detail .info_box .in_detail[data-v-66629716] {\n  padding-bottom: 10px;\n}\n.robot_error .robot_info[data-v-66629716],\n.robot_warning .robot_info[data-v-66629716],\n.select_robot .robot_info[data-v-66629716] {\n  border-left: 1px solid #fff !important;\n}\n.robot_warning[data-v-66629716] {\n  background: #f7ba2a !important;\n  color: #fff !important;\n}\n.robot_error[data-v-66629716] {\n  background: #ff4949 !important;\n  color: #fff !important;\n}\n.select_robot[data-v-66629716] {\n  background: #50bfff !important;\n  color: #fff !important;\n}\n.ant-list-item[data-v-66629716]::after {\n  content: '';\n  height: '';\n  visibility: hidden;\n  clear: both;\n}\n.robot_box[data-v-66629716] {\n  /*height:60px;*/\n  line-height: 60px;\n  cursor: pointer;\n  background: #13ce66;\n  border-radius: 10px ;\n  padding: 10px 0;\n  color: #fff;\n  text-align: center;\n}\n.robot_box .title[data-v-66629716] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-size: 14px ;\n}\n.robot_box .tel div[data-v-66629716] {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  font-size: 14px ;\n}\n.tab[data-v-66629716] {\n  margin: 20px 20px 50px 20px;\n  min-height: 700px;\n  position: relative;\n}\n.robotManage .col-margin[data-v-66629716] {\n  padding: 20px;\n  background: #fff;\n}\n.ant-alert[data-v-66629716] {\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.65);\n  box-sizing: border-box;\n  margin: 0 0 0 0;\n  list-style: none;\n  position: relative;\n  padding: 5px 15px 5px 37px;\n  border-radius: 4px;\n  border: 1px solid #91d5ff;\n  background-color: #e6f7ff;\n  display: inline-block;\n}\n.ant-info span[data-v-66629716] {\n  color: #5AA9CD;\n  margin: 0 2px;\n}\n.ant-info .pointer[data-v-66629716] {\n  cursor: pointer;\n  margin-left: 20px;\n}\n.circle_icon[data-v-66629716] {\n  top: 8px;\n  left: 12px;\n  position: absolute;\n}\n.circle_icon svg[data-v-66629716] {\n  font-size: 16px;\n}\n.clearFloat[data-v-66629716]:after {\n  display: block;\n  clear: both;\n  content: \"\";\n  visibility: hidden;\n  height: 0;\n}\n.clearFloat[data-v-66629716] {\n  zoom: 1;\n}\n.fr[data-v-66629716] {\n  float: right;\n}\n.fl[data-v-66629716] {\n  float: left;\n}\n.tag-modal .ant-tag[data-v-66629716]:hover {\n  background: #5AA9CD;\n  color: #ffffff;\n}\n.tag-modal .ant-tag-checkable[data-v-66629716] {\n  border: 1px solid #d9d9d9;\n  background: #fafafa;\n}\n.tag-modal .ant-tag-checkable-checked[data-v-66629716] {\n  background: #5AA9CD;\n}\n.ant-tag[data-v-66629716]:hover {\n  background: #5AA9CD;\n  color: #ffffff;\n  opacity: 1;\n}\n.blueText[data-v-66629716] {\n  color: #5AA9CD;\n  font-size: 12px;\n  line-height: 14px;\n}\n.grayText[data-v-66629716] {\n  color: #919191;\n  font-size: 12px;\n  line-height: 7px;\n  word-break: break-all;\n}\n",""])},2124:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-color robotManage"},[a("a-row",[a("a-col",{staticStyle:{"padding-right":"20px"},attrs:{span:"24"}},[a("div",{staticClass:"col-margin"},[a("a-form",{attrs:{layout:"inline",form:t.form}},[a("a-form-item",{attrs:{label:"选择部门"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择部门"},on:{change:t.onSelect},model:{value:t.queryParam.department_id,callback:function(e){t.$set(t.queryParam,"department_id",e)},expression:"queryParam.department_id"}},t._l(t.departmentList,function(e,n){return a("a-select-option",{key:e.id},[t._v("\n                                    "+t._s(e.name)+"\n                                ")])}),1)],1),t._v(" "),a("a-form-item",{attrs:{label:"选择用户"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"选择用户"},on:{change:t.managerChange},model:{value:t.queryParam.user_id,callback:function(e){t.$set(t.queryParam,"user_id",e)},expression:"queryParam.user_id"}},t._l(t.managerList,function(e,n){return a("a-select-option",{key:e.id},[t._v("\n                                    "+t._s(e.user_name)+"\n                                ")])}),1)],1),t._v(" "),a("a-form-item",[a("a-radio-group",{attrs:{name:"radioGroup"},on:{change:t.selectRaio},model:{value:t.queryParam.type,callback:function(e){t.$set(t.queryParam,"type",e)},expression:"queryParam.type"}},[a("a-radio",{attrs:{value:"0"}},[t._v("全部")]),t._v(" "),a("a-radio",{attrs:{value:"1"}},[t._v("未连接")])],1)],1),t._v(" "),a("a-form-item",[a("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"输入微信昵称",enterButton:""},on:{search:t.search},model:{value:t.queryParam.key,callback:function(e){t.$set(t.queryParam,"key",e)},expression:"queryParam.key"}})],1),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("a-form-item",[a("a-button",{staticStyle:{"margin-right":"4px"},attrs:{type:"primary"},on:{click:function(e){return t.refreshGroup()}}},[t._v("刷新")])],1),t._v(" "),a("a-form-item",[a("a-button",{staticStyle:{"margin-right":"4px",background:"#FF9800",border:"none"},attrs:{type:"primary"},on:{click:function(e){return t.bindAuth()}}},[t._v("下载App")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"tab"},[a("a-table",{ref:"table",class:[t.heightFlg?"scrollheade":"scrollheader"],attrs:{columns:t.columns,rowClassName:function(t,e){return e%2==0?"bg-row":"bg-row-gray"},dataSource:t.robotList,pagination:!1,loading:t.loading,type:"checkbox",scroll:{y:t.sheight,x:!1}},scopedSlots:t._u([{key:"avatar_url",fn:function(e,n,i){return[a("div",[a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"5px"},attrs:{src:e},on:{error:function(e){return t.imgExists(e)}}}),t._v(" "),a("span",[t._v(t._s(n.nickname))])])]}},{key:"user",fn:function(e,n,i){return[a("div",[n.user_avatar?a("img",{staticStyle:{width:"30px",height:"30px","border-radius":"100%"},attrs:{src:n.user_avatar}}):t._e(),t._v(" "),a("span",[t._v(t._s(n.user))])])]}},{key:"status",fn:function(e,n,i){return[a("div",["1"==e?a("div",[a("span",{staticStyle:{width:"10px",height:"10px",display:"inline-block","border-radius":"50%","vertical-align":"middle",background:"#259B24","margin-right":"5px"}}),t._v(" "),a("span",[t._v("已连接")])]):a("div",[a("span",{staticStyle:{width:"10px",height:"10px",display:"inline-block","border-radius":"50%","vertical-align":"middle",background:"#BCBCBD","margin-right":"5px"}}),t._v(" "),a("span",[t._v("未连接")])])])]}},{key:"action",fn:function(e,n,i){return[a("div",[a("a",{staticStyle:{"text-align":"center","margin-right":"10px",color:"#5AA9CD"},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.assign(n)}}},[t._v("分配")]),t._v(" "),a("a",{staticStyle:{"text-align":"center","margin-right":"10px",color:"#5AA9CD"},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.upInfo(n)}}},[t._v("同步")]),t._v(" "),a("a",{staticStyle:{"text-align":"center","margin-right":"10px",color:"#5AA9CD"},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.edit(n.id)}}},[t._v("详情")]),t._v(" "),a("a",{staticStyle:{"text-align":"center","margin-right":"10px",color:"#5AA9CD"},attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.showLog(n)}}},[t._v("日志")]),t._v(" "),a("span",{staticStyle:{"text-align":"center",color:"#FE5606"}},[a("a-popconfirm",{attrs:{title:"你确定移除吗？",placement:"top",okText:"确定",cancelText:"取消"},on:{confirm:function(e){return t.del(n)}}},[a("a",{staticStyle:{color:"#FE6354"},attrs:{href:"javascript:void(0);"}},[t._v("移除")])])],1)])]}}])}),t._v(" "),a("div",{ref:"bottomPage"},[t.robotList.length?a("div",{class:[t.heightFlg?"bottomPageK":"bottomPage"]},[t.robotList.length?a("a-pagination",{staticClass:"col",staticStyle:{"text-align":"right",float:"right"},attrs:{showQuickJumper:"",showSizeChanger:"",showTotal:function(t){return"总共"+t+"条"},pageSize:t.page_size,total:t.total,pageSizeOptions:["10","20","30","40","50"]},on:{change:t.onChange,showSizeChange:t.onShowSizeChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e()],1):t._e()])],1)])],1),t._v(" "),a("a-modal",{attrs:{title:"下载App",visible:t.bindVisible,footer:null,width:330},on:{cancel:function(e){t.bindVisible=!1}}},[""==t.bindQrcode&""==t.urlCode?a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{background:"#5AA9CD",border:"none",margin:"20px"},attrs:{type:"primary"},on:{click:function(e){return t.bindUrl()}}},[t._v("获取下载链接")])],1):a("div",[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.bindQrcode,alt:""}})]),t._v(" "),a("div",[a("p",{staticClass:"blueText"},[t._v("如何下载：")]),t._v(" "),a("p",{staticClass:"grayText"},[t._v("1、手机端扫码下载App、登录微信完成绑定！")]),t._v(" "),a("p",{staticClass:"grayText"},[t._v("2、或输入下载地址安装，登录微信完成绑定！")]),t._v(" "),a("p",{staticClass:"blueText",staticStyle:{"margin-top":"20px"}},[t._v("下载地址："),a("span",{staticClass:"grayText"},[t._v(t._s(t.urlCode))])])])])]),t._v(" "),a("a-modal",{attrs:{title:"分配用户",footer:null,visible:t.visible},on:{cancel:t.com_handleCancel}},[a("a-form",{attrs:{form:t.form}},[a("a-form-item",{attrs:{wrapperCol:{span:24},label:"选择部门："}},[a("a-select",{attrs:{placeholder:"选择部门"},on:{change:t.assignSelect},model:{value:t.assignParam.department_id,callback:function(e){t.$set(t.assignParam,"department_id",e)},expression:"assignParam.department_id"}},t._l(t.assignDepartmentList,function(e,n){return a("a-select-option",{key:e.id},[t._v("\n                            "+t._s(e.name)+"\n                        ")])}),1)],1),t._v(" "),a("a-form-item",{attrs:{wrapperCol:{span:24},label:"选择用户："}},[a("a-select",{attrs:{placeholder:"选择用户"},model:{value:t.assignParam.user_id,callback:function(e){t.$set(t.assignParam,"user_id",e)},expression:"assignParam.user_id"}},t._l(t.assignManageList,function(e,n){return a("a-select-option",{key:e.id},[t._v("\n                            "+t._s(e.user_name)+"\n                        ")])}),1)],1),t._v(" "),a("a-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{wrapperCol:{span:24,offset:17}}},[a("a-button",{on:{click:t.com_handleCancel}},[t._v("取消")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{loading:t.modalLoading,type:"primary"},on:{click:t.com_handleOk}},[t._v("确定")])],1)],1)],1),t._v(" "),a("a-modal",{attrs:{title:t.logTitle,footer:null,visible:t.logVisible},on:{cancel:function(e){t.logVisible=!1}}},[a("div",[a("div",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[a("a-radio-group",{attrs:{size:"small"},on:{change:function(e){return t.logTypeChange()}},model:{value:t.logType,callback:function(e){t.logType=e},expression:"logType"}},[a("a-radio-button",{attrs:{value:"1"}},[t._v("昨日")]),t._v(" "),a("a-radio-button",{attrs:{value:"2"}},[t._v("今日")]),t._v(" "),a("a-radio-button",{attrs:{value:"3"}},[t._v("最近七日")])],1)],1),t._v(" "),a("div",{ref:"logListContent",staticStyle:{"max-height":"300px","overflow-y":"auto"}},[a("a-table",{attrs:{columns:t.logColumns,dataSource:t.logList,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(e,n,i){return[a("div",[a("span",{style:{color:"连接"==e?"#8BC34A":"#FE5606"}},[t._v(t._s(e))])])]}}])})],1)])])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2221:function(t,e,a){var n=a(1740);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(16)("67034467",n,!1)}});