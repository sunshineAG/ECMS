webpackJsonp([56],{1198:function(t,e,a){a(2223);var s=a(20)(a(1601),a(2126),"data-v-6e726d3e",null);s.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\components\\pushMange\\setKeyWordTag.vue",s.esModule&&Object.keys(s.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] setKeyWordTag.vue: functional components are not supported with templates, they should use render functions."),t.exports=s.exports},1601:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{department_id:"",visible:!1,wrapperCol:{xs:{span:24},sm:{span:18}},labelCol:{xs:{span:24},sm:{span:3}},keyWord:"",rexFlg:!0,parameter:"3",tagList:[],choseTagList:[]}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},methods:{addTag:function(){this.visible=!0},getTag:function(){var t=this;this.$axios({method:"POST",url:"/index.php?r=uc/material/customer-label",data:{department_id:this.department_id}}).then(function(e){var a=e.data;1===a.status?(t.tagList=a.data,t.tagList.forEach(function(t){t.check=!1}),t.refresh()):t.$message.warn(a.msg)})},refresh:function(){var t=this;"add"!=this.parameter&&this.$axios({method:"POST",url:"/index.php?r=uc/material/get-keyword-label",data:{id:this.parameter}}).then(function(e){var a=e.data;1===a.status?(t.keyWord=a.data.keyword,t.tagList.forEach(function(e){e.id===a.data.label_id&&(e.check=!0,t.choseTagList.push(e),console.log(e))})):t.$message.warn(a.msg)})},choseTag:function(){this.visible=!1},choseList:function(t,e,a){this.tagList.forEach(function(t){t.check=!1}),t.check=a,this.$set(this.tagList,e,t),this.choseTagList[0]=t},com_handleCancel:function(){this.visible=!1},back:function(){this.$router.push({path:"/pushMange/keyWordTag"})},save:function(){var t=this;if(!this.keyWord)return this.rexFlg=!1,!1;if(!this.choseTagList.length)return this.$message.success("请选择标签"),!1;var e={type:"add"===this.parameter?"":"edit",id:"add"===this.parameter?"":this.parameter,keyword:this.keyWord,label_id:this.choseTagList[0].id,department_id:this.department_id,status:0};this.$axios({method:"POST",url:"add"===this.parameter?"/index.php?r=uc/material/add-keyword-label":"/index.php?r=uc/material/update-keyword-label",data:e}).then(function(e){var a=e.data;1===a.status?(console.log(a),t.$router.push({path:"/pushMange/keyWordTag"})):t.$message.warn(a.msg)})},dele_tag:function(t){this.choseTagList=[],this.tagList.forEach(function(t){t.check=!1})}},created:function(){this.parameter=this.$route.query.parameter,this.department_id=this.$route.query.department_id,this.getTag()}}},1742:function(t,e,a){e=t.exports=a(15)(!1),e.push([t.i,"\n.background-color[data-v-6e726d3e] {\n  background: #fff;\n  height: calc(100vh - 40px);\n  padding-bottom: 60px;\n  overflow-y: auto;\n}\n.title[data-v-6e726d3e] {\n  padding: 16px;\n  font-size: 16px;\n  border-bottom: 1px dashed #ccc;\n}\n.mainContent[data-v-6e726d3e] {\n  padding-top: 70px;\n  width: 600px;\n  margin: 0 auto;\n}\n.bottomBtn[data-v-6e726d3e] {\n  width: 75%;\n  margin: 50px auto;\n  text-align: right;\n}\n.showTag[data-v-6e726d3e] {\n  width: 90%;\n  padding-left: 74px;\n}\n.aTag[data-v-6e726d3e] {\n  margin-bottom: 10px;\n}\n.choseTag[data-v-6e726d3e] {\n  cursor: pointer;\n  color: lightblue;\n}\n",""])},2126:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-color"},[a("div",{staticClass:"title"},[t._v(t._s("add"===t.parameter?"创建关键词标签":"编辑关键词标签")+" / 设置")]),t._v(" "),a("div",{staticClass:"mainContent"},[a("a-form",[a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"关键词",validateStatus:t.rexFlg?"":t.keyWord?"success":"error",help:t.rexFlg?"":t.keyWord?"":"请输入关键词名称"}},[a("a-input",{attrs:{placeholder:"请输入关键词",maxlength:"10"},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1),t._v(" "),a("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"标签"}},[a("span",{staticClass:"choseTag",on:{click:t.addTag}},[t._v("选择标签")])])],1),t._v(" "),a("div",{staticClass:"showTag"},t._l(t.choseTagList,function(e,s){return a("a-tag",{key:s,class:["tag-color"+e.color_id,"aTag"],attrs:{closable:!0},on:{close:function(a){return t.dele_tag(e)}}},[t._v(t._s(e.title))])}),1),t._v(" "),a("p",{staticClass:"bottomBtn"},[a("a-button",{on:{click:t.back}},[t._v("取消")]),t._v(" "),a("a-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1),t._v(" "),a("a-modal",{attrs:{title:"选择标签",visible:t.visible,width:"40%"},on:{cancel:function(e){t.visible=!1},ok:t.choseTag}},[a("div",t._l(t.tagList,function(e,s){return a("a-checkable-tag",{key:s,class:["tag-color"+e.color_id,"aTag"],attrs:{checked:e.check},on:{change:function(a){return t.choseList(e,s,a)}}},[t._v(t._s(e.title))])}),1)])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0},2223:function(t,e,a){var s=a(1742);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(16)("7f963064",s,!1)}});