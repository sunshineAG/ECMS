webpackJsonp([44],{1234:function(t,e,n){n(2214),n(2215);var a=n(20)(n(1641),n(2120),"data-v-5909c484",null);a.options.__file="D:\\baozWork\\liejing\\js\\ECMS\\src\\view\\pushMange\\keyWordTag.vue",a.esModule&&Object.keys(a.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),a.options.functional&&console.error("[vue-loader] keyWordTag.vue: functional components are not supported with templates, they should use render functions."),t.exports=a.exports},1314:function(t,e,n){t.exports=n.p+"static/img/add.bb02471.png"},1641:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(54),r=n.n(a);n(94);e.default={data:function(){return{form:this.$form.createForm(this),tagFlag:!1,taskListFlg:!1,taskList:[],managerList:[],departmentList:[],queryParam:{key:"",department_id:""}}},mounted:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},updated:function(){this.$store.dispatch("setting/getBreadcrumb",this.$route)},methods:{onSearch:function(){this.refresh()},useTag:function(t){"0"===t.status?t.status="1":t.status="0",this.$set(this.taskList,t);var e={type:"start",id:t.id,status:t.status};this.$axios({method:"POST",url:"/index.php?r=uc/material/update-keyword-label",data:e}).then(function(t){var e=t.data;1===e.satus?console.log(e):this.$message.warn(e.msg)})},setkeyWord:function(t){this.$router.push({path:"/pushMange/setKeyWordTag",query:{parameter:t,department_id:this.queryParam.department_id}})},deleteFn:function(t){var e=this;this.$axios({method:"POST",url:"/index.php?r=uc/material/delete-keyword-label",data:{id:t}}).then(function(t){var n=t.data;1===n.status?e.refresh():e.$message.warn(n.msg)})},refresh:function(){var t={search:this.queryParam.key,department_id:this.queryParam.department_id,all:"1"},e=this;this.$axios({method:"POST",url:"/index.php?r=uc/material/keyword-label-list",data:t}).then(function(t){var n=t.data;1===n.status?(e.taskList=n.data,e.taskList.length?e.taskListFlg=!1:e.taskListFlg=!0):e.$message.warn(n.msg)})},treeList:function(){this.departmentList=this.listToTree(JSON.parse(r()(this.$store.state.user.department))),this.queryParam.department_id=this.$store.state.user.user.department.id||this.departmentList[0].key,this.getUserList()},listToTree:function(t,e){var n=this,a=[];return t.forEach(function(t,e){t.children&&t.children.length>0&&(t.children=n.listToTree(t.children,e)),a.push({title:t.name,key:t.id,value:t.id,children:t.children})}),a},onSelect:function(t,e){this.queryParam.department_id=t,this.getUserList(t)},getUserList:function(){var t=this;this.$axios({method:"post",url:"/index.php?r=uc/organization/user",data:{department_id:this.queryParam.department_id,type:1}}).then(function(e){var n=e.data;1==n.status&&(t.managerList=n.data.userList,t.managerList.unshift({id:"0",user_name:"全部"}),t.refresh())})}},created:function(){this.treeList()}}},1733:function(t,e,n){e=t.exports=n(15)(!1),e.push([t.i,"\n.fl{\n        float:left;\n}\n.fr{\n        float:right;\n}\n.clr:after{\n        display:block;\n        height:'';\n        content:'';\n        visibility: hidden;\n        clear:both;\n}\n.setIcon{\n    cursor: pointer;\n    color:#fff;\n    background:#5AA9CD;\n    padding:1px;\n}\n",""])},1734:function(t,e,n){e=t.exports=n(15)(!1),e.push([t.i,"\n.header .headerForm[data-v-5909c484] {\n  padding: 16px;\n  background: #fff;\n  height: 72px;\n}\n.tag-modal .ant-tag[data-v-5909c484]:hover {\n  background: #5AA9CD;\n  color: #ffffff;\n}\n.tag-modal .ant-tag-checkable[data-v-5909c484] {\n  border: 1px solid #d9d9d9;\n  background: #fafafa;\n}\n.tag-modal .ant-tag-checkable-checked[data-v-5909c484] {\n  background: #5AA9CD;\n}\n.mainWrap[data-v-5909c484] {\n  height: calc(100vh - 170px);\n  overflow-y: auto;\n  width: 100%;\n}\n.setTitle[data-v-5909c484] {\n  border-left: 4px solid #0084ff;\n  padding-left: 4px;\n}\n.setImgHead[data-v-5909c484] {\n  width: 38px;\n  height: 38px;\n  border: 0;\n  margin-bottom: 2px;\n}\n.setIcon[data-v-5909c484] {\n  cursor: pointer;\n  color: #fff;\n  background: #5AA9CD;\n  padding: 1px;\n}\n.setBody[data-v-5909c484] {\n  cursor: pointer;\n}\n.bodText[data-v-5909c484]:hover {\n  background: #0084ff;\n  color: #fff;\n}\n.activeSet[data-v-5909c484] {\n  background: #0084ff;\n  color: #fff!important;\n  border-radius: 5px ;\n  cursor: pointer;\n  height: 40px;\n  line-height: 40px;\n  margin-right: 10px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.bodText[data-v-5909c484] {\n  cursor: pointer;\n  border-radius: 5px;\n  height: 40px;\n  line-height: 40px;\n  text-align: left;\n  margin-right: 10px;\n  color: #222;\n  background: #fff;\n  box-shadow: 0 0 2px rgba(0, 110, 255, 0.12);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.bag[data-v-5909c484] {\n  width: 200px;\n  margin-bottom: 10px;\n  margin-right: 20px;\n  height: 40px;\n  line-height: 40px;\n  box-shadow: 0 0 6px rgba(0, 110, 255, 0.12);\n  border-radius: 5px;\n}\n.contImg[data-v-5909c484] {\n  border-radius: 5px 0 0 5px;\n  border-right: 1px solid #d4d4d4;\n  width: 40px;\n  height: 40px;\n}\n.setContent[data-v-5909c484] {\n  margin-top: 10px;\n  background: #f0f0f0;\n  border-radius: 10px;\n  padding: 20px;\n  max-height: 200px;\n  overflow: auto;\n}\n.contentList[data-v-5909c484] {\n  margin-top: 10px;\n  padding: 10px 10px ;\n  background: #fff;\n}\n.infomation[data-v-5909c484] {\n  margin-right: 10px;\n}\n.robot[data-v-5909c484] {\n  display: inline-block;\n}\n.lineStyle[data-v-5909c484] {\n  height: 40px;\n  line-height: 40px;\n}\n.other[data-v-5909c484] {\n  padding-left: 10px;\n}\n.robotText[data-v-5909c484] {\n  margin-right: 10px;\n}\n.robotText[data-v-5909c484]:nth-child(1) {\n  margin-left: 10px;\n}\n.btnStyle[data-v-5909c484] {\n  padding-top: 4px;\n}\n.btnStyle button[data-v-5909c484] {\n  display: block;\n}\n.btnStyle button[data-v-5909c484]:nth-child(1) {\n  margin-bottom: 10px;\n}\n.status[data-v-5909c484] {\n  padding: 8px 20px;\n  border-left: 1px solid #e2e2e2;\n}\n.status p[data-v-5909c484] {\n  text-overflow: ellipsis;\n  word-break: normal;\n  white-space: nowrap;\n  overflow: hidden;\n  margin: 0;\n}\n.status p[data-v-5909c484]:nth-child(2) {\n  margin-top: 20px;\n}\n",""])},2120:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("a-form",{staticClass:"headerForm",attrs:{layout:"inline",form:t.form}},[a("a-row",[a("a-col",{attrs:{span:18}},[a("div",{staticClass:"fl"},[a("a-form-item",[a("a-input-search",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入关键词标签名称",enterButton:""},on:{search:t.onSearch},model:{value:t.queryParam.key,callback:function(e){t.$set(t.queryParam,"key",e)},expression:"queryParam.key"}})],1),t._v(" "),a("a-form-item",{attrs:{label:"选择部门"}},[a("a-tree-select",{staticStyle:{"min-width":"200px"},attrs:{treeData:t.departmentList,treeDefaultExpandAll:!0},on:{select:t.onSelect},model:{value:t.queryParam.department_id,callback:function(e){t.$set(t.queryParam,"department_id",e)},expression:"queryParam.department_id"}})],1)],1)]),t._v(" "),a("a-col",{staticStyle:{height:"39px","line-height":"39px","text-align":"left"},attrs:{span:6}},[a("div",{staticClass:"fr"},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.setkeyWord("add")}}},[t._v("新建")])],1)])],1)],1)],1),t._v(" "),t.taskListFlg?a("div",{staticStyle:{"text-align":"center",padding:"50px 0",width:"100%",background:"#fff","margin-top":"10px"}},[a("img",{staticStyle:{width:"100px",height:"100px","margin-bottom":"20px",cursor:"pointer"},attrs:{src:n(1314),alt:""},on:{click:function(e){return t.setkeyWord("add")}}}),t._v(" "),a("p",{staticStyle:{"font-size":"24px"}},[t._v("未创建关键词标签")]),t._v(" "),t._m(0)]):a("div",{staticClass:"mianContent"},[a("div",{staticClass:"mainWrap"},t._l(t.taskList,function(e,n){return a("div",{key:n,staticClass:"contentList"},[a("a-row",[a("a-col",{attrs:{span:"18"}},[a("div",[a("div",{staticClass:"lineStyle"},[a("a-icon",{staticStyle:{color:"#5AA9CD","font-weight":"800"},attrs:{type:"bars",theme:"outlined"}}),t._v(" "),a("b",[t._v("关键词: ")]),t._v(" "),a("b",{staticStyle:{color:"#5AA9CD",width:"160px",display:"inline-block",margin:"0 4px 0 30px"}},[t._v(t._s(e.keyword))])],1),t._v(" "),a("div",{staticClass:"lineStyle"},[a("span",{staticClass:"fl",staticStyle:{display:"inline-block"}},[t._v("标签信息: ")]),t._v(" "),a("div",{staticClass:"fl"},[a("a-tag",{class:["tag-color"+e.label_color_id],staticStyle:{"margin-left":"10px"}},[t._v(" \n                                       "+t._s(e.label_name)+"\n                                    ")])],1)])])]),t._v(" "),a("a-col",{attrs:{span:"4"}},[a("div",{staticClass:" status"},[a("p",[t._v("状态："),a("span",{style:{color:1==e.status?"#5AA9CD":""}},[t._v(t._s("1"===e.status?"已启用":"未启用"))])]),t._v(" "),a("p",[a("a-button",{style:{background:1==e.status?"#8e8e8e":"","border-color":1==e.status?"#8e8e8e":""},attrs:{type:"primary",size:"small"},on:{click:function(n){return t.useTag(e)}}},[t._v(t._s("1"==e.status?"停用":"启用"))])],1)])]),t._v(" "),a("a-col",{attrs:{span:"2"}},[a("div",{staticClass:"lineStyle fr btnStyle",staticStyle:{height:"auto"}},[a("a-button",{attrs:{type:"primary"},on:{click:function(n){return t.setkeyWord(e.id)}}},[t._v("\n                                编辑\n                            ")]),t._v(" "),a("a-popconfirm",{attrs:{title:"确定要删除吗?",okText:"确定",cancelText:"取消"},on:{confirm:function(n){return t.deleteFn(e.id)}}},[a("a-button",{attrs:{type:"primary"}},[t._v(" 删除 ")])],1)],1)])],1)],1)}),0)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{background:"#eaeaea","text-align":"left",margin:"50px 10%",padding:"15px"}},[n("div",{staticStyle:{"font-weight":"700","margin-bottom":"10px"}},[t._v("关键词标签功能介绍")]),t._v(" "),n("div",{staticStyle:{color:"rgb(102,102,102)"}},[t._v("\n\t\t\t\t\t1、设置关键词自动打标签 ，可以通过添加关键词，选择绑定的标签，当好友发送的消息是您设置的关键字"),n("br"),t._v("\n\t\t\t\t\t2、触发关键词打标签，需要消息内容与关键词必须一致\n\t\t\t\t")])])}]},t.exports.render._withStripped=!0},2214:function(t,e,n){var a=n(1733);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(16)("b56b7642",a,!1)},2215:function(t,e,n){var a=n(1734);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(16)("6bea2a33",a,!1)}});